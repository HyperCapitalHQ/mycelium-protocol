# Nodeç«¯æŠ€æœ¯é€‰å‹
1. æˆ‘ä»¬å†³å®šä»Flutterè¿ç§»åˆ°Tauriï¼ŒåŸå› æ˜¯flutteræ„Ÿè§‰è¿˜æ˜¯å¤æ‚å’Œåºå¤§ï¼Œè€ŒTauriåˆ™æ›´åŠ è½»é‡çº§ï¼ŒRustæ€§èƒ½ä¸é”™ã€‚
2. ç›®å‰æœªæµ‹è¯•Rustå¯¹äºåŒå¹³å°ç¡¬ä»¶(æ ¸å¿ƒæ˜¯æŒ‡çº¹æœºåˆ¶ç­‰passkey)æ”¯æŒçš„æ˜¯å¦okï¼Œä½†åŸç†ä¸Šåº”è¯¥æ²¡é—®é¢˜ï¼Œæœ€å·®è°ƒç”¨åˆ«äººã€‚
3. è€ŒåŸºäºNodeæˆ‘ä»¬è®¾è®¡äº†N0-N3ï¼Œä¸åŒçš„èŠ‚ç‚¹ç±»å‹ï¼š
   1. N0ï¼šWebç‰ˆ+Tauriæ‰“åŒ…ï¼Œå¯ä»¥æœ‰ä¸åŒå®ç°ï¼Œä½†å°½åŠ›ç»Ÿä¸€
   2. N1ï¼šå¢åŠ APIæœåŠ¡ï¼Œæä¾›ä¸€äº›åŸºç¡€æœåŠ¡ï¼Œä¾èµ–bkndæ¡†æ¶ï¼Œä¸»è¦è€ƒè™‘æ˜¯ç®€å•é€šç”¨çš„nodejsæŠ€æœ¯æ ˆ
   3. N2ï¼šTEEï¼Œä¾èµ–ç¡¬ä»¶ï¼ŒAPIä¾ç„¶å¯ä»¥ä¾èµ–bkndæˆ–è€…Rustç›´æ¥æä¾›ï¼ˆå¾…å®šï¼‰
   4. N3ï¼šP2Pæ¨¡å¼çš„ï¼Œæ›´å¤šæœåŠ¡ï¼Œæ›´é«˜å¹¶å‘
4. è€ŒæŠ€æœ¯æ ˆå¾ˆæ˜æ˜¾æ˜¯Webåº”ç”¨å…ˆå¼€å‘ï¼Œç„¶åè¿ç§»åˆ°Tauriï¼Œå‘å¸ƒåˆ°å¤šç«¯ã€‚
5. ä¿éšœæ‰€æœ‰åº”ç”¨æ˜¯åŒä¸€ä¸ªé€»è¾‘å’Œå®ç°ï¼Œä¸»è¦åŸºäºNodejs
6. ä¸€äº›åº•å±‚ç¡¬ä»¶æœåŠ¡ï¼ŒWebç‰ˆæœ¬å¯ä»¥å…ˆå®ç°ä¾‹å¦‚ä¾èµ–æµè§ˆå™¨çš„WebAuthnï¼Œç„¶åå†å®ç°Rustç‰ˆæœ¬åˆ°å®¢æˆ·ç«¯ã€‚
https://www.arewewebyet.org/topics/frameworks/


å¯¹äºåº”ç”¨äº¤äº’çš„æŠ€æœ¯é€‰å‹,æˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªç²¾å·§çš„åç«¯æ¡†æ¶:https://github.com/bknd-io/bknd,
è€Œæˆ‘ä»¬è®¡åˆ’ä½¿ç”¨Tauriä½œä¸ºè·¨ç«¯çš„å£³,å½“ç„¶æœ€åŸºç¡€çš„æ˜¯Webåº”ç”¨,ç„¶åè¿ç§»åˆ°Tauri,å‘å¸ƒåˆ°å¤šç«¯ã€‚æˆ‘çš„ç–‘é—®æ˜¯è¿™ä¸ªåç«¯æ¡†æ¶åŒ…æ‹¬äº†clientã€åç«¯ã€UIã€element,æ˜¯å¦å¯ä»¥å®ç°åœ¨Tauriå†…è¿è¡Œ,å¹¶å¯¹å¤–æä¾›APIæœåŠ¡,å¯¹å†…nodejså®ç°ä¸€äº›åŸºç¡€æœåŠ¡,è€Œå¦å¤–ä¸€äº›æœåŠ¡,ä¸€æ¥Rustæ¥è°ƒç”¨ç¡¬ä»¶å®ç°,è¯·è¯„ä¼°æ­¤é€‰å‹æ–¹æ¡ˆ
æˆ‘æ¥åˆ†æä¸€ä¸‹è¿™ä¸ªæŠ€æœ¯é€‰å‹æ–¹æ¡ˆã€‚é¦–å…ˆè®©æˆ‘äº†è§£ä¸€ä¸‹è¿™ä¸ªåç«¯æ¡†æ¶çš„å…·ä½“æƒ…å†µã€‚è®©æˆ‘è¿›ä¸€æ­¥äº†è§£bkndåœ¨Tauriç¯å¢ƒä¸­çš„è¿è¡Œå¯èƒ½æ€§ï¼šåŸºäºå¯¹bkndæ¡†æ¶å’ŒTauriæ¶æ„çš„åˆ†æï¼Œæˆ‘æ¥è¯„ä¼°ä½ çš„è¿™ä¸ªæŠ€æœ¯é€‰å‹æ–¹æ¡ˆï¼š
https://docs.bknd.io/start

## æŠ€æœ¯å¯è¡Œæ€§åˆ†æ

### bkndæ¡†æ¶ç‰¹ç‚¹
bkndæ˜¯ä¸€ä¸ªè½»é‡çº§ã€åŸºç¡€è®¾æ–½æ— å…³ä¸”åŠŸèƒ½ä¸°å¯Œçš„åç«¯ï¼Œå¯ä»¥åœ¨ä»»ä½•JavaScriptç¯å¢ƒä¸­è¿è¡Œï¼Œå¹¶ä¸”å¯ä»¥ä½œä¸ºAPIæœåŠ¡äºä»»ä½•JSè¿è¡Œæ—¶æˆ–æ¡†æ¶ã€‚å®ƒç›´æ¥åœ¨å‰ç«¯åº”ç”¨å†…è¿è¡Œï¼Œæ— éœ€å•ç‹¬çš„åç«¯ï¼Œæ”¯æŒNext.jsã€Remixã€Astroç­‰æ¡†æ¶ï¼Œä¹Ÿå¯ä»¥åœ¨Cloudflare Workersã€AWS Lambdaã€Bunæˆ–Nodeä¸Šç‹¬ç«‹è¿è¡Œã€‚

### åœ¨Tauriä¸­çš„å®ç°æ–¹æ¡ˆ

**æ–¹æ¡ˆ1ï¼šSidecaræ¨¡å¼ï¼ˆæ¨èï¼‰**
Tauriæ”¯æŒå°†Node.jsåº”ç”¨æ‰“åŒ…ä¸ºè‡ªåŒ…å«çš„äºŒè¿›åˆ¶æ–‡ä»¶ä½œä¸ºsidecarä½¿ç”¨ï¼Œæ— éœ€æœ€ç»ˆç”¨æˆ·å®‰è£…Node.jsã€‚è¿™ç§æ–¹å¼å¯ä»¥ï¼š
- å°†bkndä½œä¸ºç‹¬ç«‹çš„Node.jsæœåŠ¡æ‰“åŒ…
- é€šè¿‡Tauriçš„sidecaræœºåˆ¶åµŒå…¥åˆ°åº”ç”¨ä¸­
- å¯¹å¤–æä¾›APIæœåŠ¡ï¼Œå¯¹å†…ä¸Ruståç«¯é€šä¿¡

**æ–¹æ¡ˆ2ï¼šçº¯å‰ç«¯é›†æˆ**
ç”±äºbkndå¯ä»¥ç›´æ¥åœ¨å‰ç«¯åº”ç”¨å†…è¿è¡Œï¼Œä½ å¯ä»¥ï¼š
- åœ¨Webå±‚ç›´æ¥é›†æˆbknd
- åˆ©ç”¨Tauriçš„å‰ç«¯ç¯å¢ƒè¿è¡Œbkndçš„å®¢æˆ·ç«¯éƒ¨åˆ†
- é€šè¿‡Tauri Commandä¸Ruståç«¯é€šä¿¡

## æ¶æ„ä¼˜åŠ¿

1. **æ··åˆæ¶æ„çµæ´»æ€§**ï¼šJavaScriptå¤„ç†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®ç®¡ç†ï¼ŒRustå¤„ç†ç¡¬ä»¶è°ƒç”¨å’Œæ€§èƒ½æ•æ„Ÿæ“ä½œ
2. **å¼€å‘æ•ˆç‡**ï¼šbkndæä¾›Dataã€Authã€Mediaå’ŒFlowså››ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œå‡å°‘åŸºç¡€åŠŸèƒ½å¼€å‘å·¥ä½œ
3. **è·¨å¹³å°ä¸€è‡´æ€§**ï¼šWebä¼˜å…ˆå¼€å‘ï¼Œå†è¿ç§»åˆ°Tauriå¤šç«¯å‘å¸ƒ
4. **èµ„æºä¼˜åŒ–**ï¼šé¿å…äº†ä¼ ç»ŸC/Sæ¶æ„çš„ç½‘ç»œå¼€é”€

## æ½œåœ¨æŒ‘æˆ˜ä¸å»ºè®®

### æŒ‘æˆ˜
1. **æ‰“åŒ…å¤æ‚åº¦**ï¼šéœ€è¦åŒæ—¶ç®¡ç†Node.js runtimeå’ŒRust binary
2. **è°ƒè¯•éš¾åº¦**ï¼šå¤šè¯­è¨€æ ˆè°ƒè¯•ç›¸å¯¹å¤æ‚
3. **æ€§èƒ½å¼€é”€**ï¼šåŒruntimeå¯èƒ½å¸¦æ¥å†…å­˜å’Œå¯åŠ¨æ—¶é—´å¼€é”€
4. **ä¾èµ–ç®¡ç†**ï¼šéœ€è¦ç¡®ä¿Node.jsæ¨¡å—ä¸Tauriç¯å¢ƒå…¼å®¹

### ä¼˜åŒ–å»ºè®®
1. **é‡‡ç”¨Sidecaræ¨¡å¼**ï¼šå°†bkndæœåŠ¡ç‹¬ç«‹æ‰“åŒ…ï¼Œé€šè¿‡HTTP APIä¸å‰ç«¯é€šä¿¡
2. **åˆç†åˆ†å·¥**ï¼š
   - bkndï¼šå¤„ç†æ•°æ®æŒä¹…åŒ–ã€è®¤è¯ã€APIè·¯ç”±
   - Rustï¼šç¡¬ä»¶æ¥å£ã€æ–‡ä»¶ç³»ç»Ÿã€ç³»ç»Ÿè°ƒç”¨ã€è®¡ç®—å¯†é›†å‹ä»»åŠ¡
   - Frontendï¼šUIäº¤äº’ã€çŠ¶æ€ç®¡ç†
3. **æ¸è¿›å¼è¿ç§»**ï¼šå…ˆåœ¨Webç¯å¢ƒéªŒè¯bkndé›†æˆï¼Œå†é€‚é…Tauri
4. **èµ„æºéš”ç¦»**ï¼šç¡®ä¿Node.jså’ŒRustæœåŠ¡çš„èµ„æºä½¿ç”¨ç›¸äº’ç‹¬ç«‹

## æ€»ä½“è¯„ä¼°

è¿™ä¸ªé€‰å‹æ–¹æ¡ˆåœ¨æŠ€æœ¯ä¸Šæ˜¯**å¯è¡Œçš„**ï¼Œç‰¹åˆ«é€‚åˆï¼š
- éœ€è¦å¿«é€Ÿå¼€å‘å’Œè¿­ä»£çš„é¡¹ç›®
- æœ‰ç°æœ‰Node.jsç”Ÿæ€ä¾èµ–çš„å›¢é˜Ÿ
- éœ€è¦å¤æ‚æ•°æ®ç®¡ç†å’ŒAPIæœåŠ¡çš„åº”ç”¨
- è¦æ±‚è·¨å¹³å°ä¸€è‡´æ€§çš„äº§å“

å»ºè®®å…ˆåœ¨Webç¯å¢ƒä¸­éªŒè¯bkndçš„å®Œæ•´åŠŸèƒ½ï¼Œç„¶åé€šè¿‡Sidecaræ¨¡å¼é›†æˆåˆ°Tauriä¸­ï¼Œè¿™æ ·æ—¢èƒ½å‘æŒ¥å„æŠ€æœ¯æ ˆçš„ä¼˜åŠ¿ï¼Œåˆèƒ½ä¿æŒæ¶æ„çš„æ¸…æ™°æ€§ã€‚

# Rust é›†æˆæœåŠ¡æ–¹æ¡ˆ
è®©æˆ‘æœç´¢æ›´å…·ä½“çš„Rustå…¨æ ˆåç«¯æ¡†æ¶ï¼Œç±»ä¼¼bkndçš„åŠŸèƒ½ï¼šè®©æˆ‘æœç´¢æ›´å…·ä½“çš„Rustå…¨æ ˆè§£å†³æ–¹æ¡ˆï¼šåŸºäºæœç´¢ç»“æœï¼Œæˆ‘ä¸ºä½ åˆ†æRustç”Ÿæ€ä¸­ç±»ä¼¼bkndçš„åç«¯æ¡†æ¶é€‰æ‹©ï¼š

## ç›´æ¥å¯¹æ ‡bkndçš„Rustæ¡†æ¶

é—æ†¾çš„æ˜¯ï¼Œ**Rustç”Ÿæ€ä¸­æš‚æ—¶æ²¡æœ‰å®Œå…¨å¯¹æ ‡bkndçš„all-in-oneæ¡†æ¶**ã€‚bkndçš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºå®ƒæä¾›äº†å¼€ç®±å³ç”¨çš„Dataã€Authã€Mediaã€Flowså››å¤§æ ¸å¿ƒæ¨¡å—ï¼Œè¿™ç§"instant backend"çš„ç†å¿µåœ¨Rustç”Ÿæ€ä¸­è¿˜æ¯”è¾ƒå°‘è§ã€‚

ä¸è¿‡ï¼Œæˆ‘å¯ä»¥æ¨èå‡ ä¸ªæ¥è¿‘çš„è§£å†³æ–¹æ¡ˆï¼š

## æœ€ä½³ç»„åˆæ–¹æ¡ˆ

### 1. **Axum + ç”Ÿæ€ç»„åˆï¼ˆæ¨èï¼‰**
Axumç”±tokioå›¢é˜Ÿå¼€å‘ï¼Œä¸“æ³¨äºæ— å®APIï¼Œç®€åŒ–é”™è¯¯å¤„ç†å’Œè°ƒè¯•ï¼Œå»ºç«‹åœ¨Towerå’ŒHyperä¹‹ä¸Šï¼Œè®¾è®¡ä¸ºå¥å£®ã€é«˜æ€§èƒ½ã€å¯é ä¸”ç¬¦åˆäººä½“å·¥ç¨‹å­¦ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- **Data**: Axum + SQLx + SeaORM
- **Auth**: axum-auth/tower-auth
- **Media**: tower-http + axum-typed-multipart
- **API**: åŸç”ŸRESTæ”¯æŒï¼Œä¼˜ç§€çš„ç±»å‹å®‰å…¨

### 2. **Rocketæ¡†æ¶ï¼ˆæœ€æ¥è¿‘bkndä½“éªŒï¼‰**
Rocketè®©ç¼–å†™å¿«é€ŸWebåº”ç”¨å˜å¾—ç®€å•ï¼Œä¸ç‰ºç‰²çµæ´»æ€§æˆ–ç±»å‹å®‰å…¨ã€‚

**ä¼˜åŠ¿**ï¼š
- å¼€å‘ä½“éªŒæœ€æ¥è¿‘bkndçš„ç®€æ´æ€§
- å†…ç½®JSONæ”¯æŒã€è¡¨å•å¤„ç†
- å¼ºå¤§çš„è¯·æ±‚å®ˆå«ç³»ç»Ÿï¼ˆé€‚åˆè®¤è¯ï¼‰
- å†…ç½®é™æ€æ–‡ä»¶æœåŠ¡ï¼ˆé€‚åˆMediaï¼‰

### 3. **æ–°å…´æ¡†æ¶ï¼šPrest**
Prestæ˜¯ä¸€ä¸ªæ¸è¿›å¼RESTfulæ¡†æ¶ï¼Œä¸“é—¨ä¸ºæ„å»ºWebåº”ç”¨è€Œè®¾è®¡ï¼Œè™½ç„¶è¿˜å¤„äºæ—©æœŸé˜¶æ®µï¼Œä½†ç†å¿µæ¥è¿‘bkndã€‚

## å®é™…æ¶æ„å»ºè®®

è€ƒè™‘åˆ°ä½ çš„éœ€æ±‚ï¼Œæˆ‘å»ºè®®é‡‡ç”¨ä»¥ä¸‹æŠ€æœ¯æ ˆï¼š## æ€»ç»“ä¸å»ºè®®

è™½ç„¶Rustç”Ÿæ€ä¸­æ²¡æœ‰å®Œå…¨å¯¹æ ‡bkndçš„æ¡†æ¶ï¼Œä½†é€šè¿‡ç»„åˆç°æœ‰çš„ä¼˜ç§€crateï¼Œä½ å¯ä»¥æ„å»ºå‡ºæ›´é«˜æ€§èƒ½ã€æ›´å®‰å…¨çš„åç«¯æœåŠ¡ã€‚

**æ¨èæ–¹æ¡ˆ**ï¼š
1. **Axumæ¡†æ¶** - æœ€ä½³çš„å¼€å‘ä½“éªŒå’Œæ€§èƒ½å¹³è¡¡
2. **æ¨¡å—åŒ–è®¾è®¡** - å‚è€ƒä¸Šé¢çš„æ¶æ„å›¾ï¼Œåˆ†åˆ«å®ç°Dataã€Authã€Mediaã€Flows
3. **æ¸è¿›å¼å¼€å‘** - ä»æ ¸å¿ƒAPIå¼€å§‹ï¼Œé€æ­¥æ·»åŠ åŠŸèƒ½

**ä¼˜åŠ¿**ï¼š
- æ€§èƒ½æ¯”Node.jsé«˜å‡ºæ•°å€
- å†…å­˜å®‰å…¨ï¼Œæ— åƒåœ¾å›æ”¶åœé¡¿
- ä¼˜ç§€çš„å¹¶å‘å¤„ç†èƒ½åŠ›
- ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥ï¼Œè¿è¡Œæ—¶æ›´ç¨³å®š

**æƒè¡¡**ï¼š
- å¼€å‘é€Ÿåº¦å¯èƒ½æ¯”bkndæ…¢ä¸€äº›
- å­¦ä¹ æ›²çº¿è¾ƒé™¡å³­
- éœ€è¦è‡ªå·±ç»„è£…å„ä¸ªæ¨¡å—

è€ƒè™‘åˆ°ä½ çš„æŠ€æœ¯æ ˆè§„åˆ’ï¼ˆNode.jså‰ç«¯ + Ruståç«¯ + Tauriæ¡Œé¢ç«¯ï¼‰ï¼Œè¿™ä¸ªæ–¹æ¡ˆèƒ½è®©ä½ å……åˆ†å‘æŒ¥å„è¯­è¨€çš„ä¼˜åŠ¿ï¼Œæ˜¯ä¸€ä¸ªå¾ˆæœ‰å‰æ™¯çš„é€‰æ‹©ã€‚

## å…·ä½“æŠ€æœ¯æ ˆ
# Ruståç«¯æ¶æ„æ–¹æ¡ˆ

## æ ¸å¿ƒæŠ€æœ¯æ ˆ

### Webæ¡†æ¶é€‰æ‹©
- **ä¸»æ¡†æ¶**: Axum (æ¨è) æˆ– Rocket
- **HTTPæœåŠ¡**: Hyper/Tower (Axumå†…ç½®)
- **å¼‚æ­¥è¿è¡Œæ—¶**: Tokio

### å››å¤§æ ¸å¿ƒæ¨¡å—å®ç°

#### 1. Data æ•°æ®å±‚
```rust
// ORMé€‰æ‹©
- SeaORM: å®Œæ•´çš„ORMï¼Œç±»ä¼¼ActiveRecord
- SQLx: è½»é‡çº§ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥SQL
- Diesel: æˆç†Ÿç¨³å®šï¼Œç±»å‹å®‰å…¨

// æ•°æ®åº“æ”¯æŒ
- PostgreSQL (æ¨è)
- SQLite (è½»é‡çº§éƒ¨ç½²)
- MySQL/MariaDB
```

#### 2. Auth è®¤è¯æ¨¡å—
```rust
// JWTè®¤è¯
- jsonwebtoken: JWTå¤„ç†
- axum-auth: Axumè®¤è¯ä¸­é—´ä»¶
- tower-auth: Towerè®¤è¯å±‚

// ä¼šè¯ç®¡ç†
- axum-sessions: ä¼šè¯æ”¯æŒ
- redis: ä¼šè¯å­˜å‚¨
```

#### 3. Media åª’ä½“æ–‡ä»¶
```rust
// æ–‡ä»¶ä¸Šä¼ å¤„ç†
- axum-typed-multipart: ç±»å‹å®‰å…¨çš„æ–‡ä»¶ä¸Šä¼ 
- tower-http: é™æ€æ–‡ä»¶æœåŠ¡
- tokio-util: æµå¤„ç†

// å­˜å‚¨æ–¹æ¡ˆ
- æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
- AWS S3 (rust-s3)
- é˜¿é‡Œäº‘OSS
```

#### 4. Flows å·¥ä½œæµ(APIè®¾è®¡)
```rust
// APIè®¾è®¡
- åŸºäºAxumçš„è·¯ç”±ç³»ç»Ÿ
- towerä¸­é—´ä»¶é“¾
- è¯·æ±‚/å“åº”ç®¡é“

// åå°ä»»åŠ¡
- tokio-cron-scheduler: å®šæ—¶ä»»åŠ¡
- background-jobs: åå°ä½œä¸š
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ main.rs              # åº”ç”¨å…¥å£
â”œâ”€â”€ config/              # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ mod.rs
â”‚   â””â”€â”€ database.rs
â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ mod.rs
â”‚   â”œâ”€â”€ user.rs
â”‚   â””â”€â”€ media.rs
â”œâ”€â”€ handlers/            # è¯·æ±‚å¤„ç†å™¨
â”‚   â”œâ”€â”€ mod.rs
â”‚   â”œâ”€â”€ auth.rs
â”‚   â”œâ”€â”€ users.rs
â”‚   â””â”€â”€ media.rs
â”œâ”€â”€ middleware/          # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ mod.rs
â”‚   â”œâ”€â”€ auth.rs
â”‚   â””â”€â”€ cors.rs
â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ mod.rs
â”‚   â”œâ”€â”€ auth_service.rs
â”‚   â””â”€â”€ media_service.rs
â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
    â”œâ”€â”€ mod.rs
    â””â”€â”€ error.rs
```

## ä¾èµ–é…ç½® (Cargo.toml)

```toml
[dependencies]
# Webæ¡†æ¶
axum = "0.7"
tower = "0.4"
tower-http = { version = "0.5", features = ["cors", "fs"] }
tokio = { version = "1.0", features = ["full"] }
hyper = "1.0"

# æ•°æ®åº“
sqlx = { version = "0.7", features = ["runtime-tokio-rustls", "postgres", "uuid", "chrono"] }
# æˆ–è€…ä½¿ç”¨ SeaORM
# sea-orm = { version = "0.12", features = ["sqlx-postgres", "runtime-tokio-rustls"] }

# åºåˆ—åŒ–
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# è®¤è¯
jsonwebtoken = "9.0"
bcrypt = "0.15"

# æ–‡ä»¶å¤„ç†
axum-typed-multipart = "0.11"
uuid = { version = "1.0", features = ["v4", "serde"] }

# é…ç½®ç®¡ç†
config = "0.14"
dotenvy = "0.15"

# é”™è¯¯å¤„ç†
anyhow = "1.0"
thiserror = "1.0"

# æ—¥å¿—
tracing = "0.1"
tracing-subscriber = "0.3"

# å¼€å‘å·¥å…·
tokio-dev = "0.1"
```

## å¿«é€Ÿå¯åŠ¨æ¨¡æ¿

```rust
// main.rs æ ¸å¿ƒç»“æ„
use axum::{
    routing::{get, post},
    Router,
    extract::State,
    http::StatusCode,
    response::Json,
};
use std::sync::Arc;

#[derive(Clone)]
struct AppState {
    db: sqlx::PgPool,
    // å…¶ä»–å…±äº«çŠ¶æ€
}

async fn create_app() -> Router {
    let db = setup_database().await;
    let state = Arc::new(AppState { db });

    Router::new()
        // APIè·¯ç”±
        .route("/api/health", get(health_check))
        .route("/api/auth/register", post(register))
        .route("/api/auth/login", post(login))
        .route("/api/users", get(get_users))
        .route("/api/media/upload", post(upload_file))
        // ä¸­é—´ä»¶
        .layer(
            tower_http::cors::CorsLayer::new()
                .allow_origin(tower_http::cors::Any)
                .allow_methods(tower_http::cors::Any)
                .allow_headers(tower_http::cors::Any)
        )
        .with_state(state)
}

#[tokio::main]
async fn main() {
    tracing_subscriber::init();
    
    let app = create_app().await;
    let listener = tokio::net::TcpListener::bind("0.0.0.0:3000").await.unwrap();
    
    println!("ğŸš€ Server running on http://localhost:3000");
    axum::serve(listener, app).await.unwrap();
}
```

## ä¸bkndçš„å¯¹æ¯”

| ç‰¹æ€§ | bknd (Node.js) | Rustæ–¹æ¡ˆ |
|------|---------------|----------|
| å¼€å‘é€Ÿåº¦ | â­â­â­â­â­ | â­â­â­ |
| æ€§èƒ½ | â­â­â­ | â­â­â­â­â­ |
| å†…å­˜å®‰å…¨ | â­â­ | â­â­â­â­â­ |
| ç”Ÿæ€æˆç†Ÿåº¦ | â­â­â­â­â­ | â­â­â­â­ |
| ç±»å‹å®‰å…¨ | â­â­â­ | â­â­â­â­â­ |
| å­¦ä¹ æ›²çº¿ | â­â­â­â­ | â­â­ |

## éƒ¨ç½²å»ºè®®

### DockeråŒ–éƒ¨ç½²
```dockerfile
FROM rust:1.75-slim as builder
WORKDIR /app
COPY . .
RUN cargo build --release

FROM debian:bookworm-slim
RUN apt-get update && apt-get install -y ca-certificates
COPY --from=builder /app/target/release/your-app /usr/local/bin/
EXPOSE 3000
CMD ["your-app"]
```

### ä¸Taurié›†æˆ
- ç¼–è¯‘ä¸ºå•ç‹¬çš„äºŒè¿›åˆ¶æ–‡ä»¶
- é€šè¿‡HTTP APIä¸Node.jså‰ç«¯é€šä¿¡
- åˆ©ç”¨Tauriçš„IPCæœºåˆ¶è°ƒç”¨ç¡¬ä»¶åŠŸèƒ½

## å¼€å‘æµç¨‹å»ºè®®

1. **é˜¶æ®µä¸€**: ä½¿ç”¨Axum + SQLxå¿«é€Ÿæ­å»ºæ ¸å¿ƒAPI
2. **é˜¶æ®µäºŒ**: é›†æˆè®¤è¯å’Œæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
3. **é˜¶æ®µä¸‰**: æ·»åŠ ä¸­é—´ä»¶å’Œé”™è¯¯å¤„ç†
4. **é˜¶æ®µå››**: æ€§èƒ½ä¼˜åŒ–å’Œç›‘æ§
5. **é˜¶æ®µäº”**: ä¸Tauriå‰ç«¯é›†æˆæµ‹è¯•

## TS+Node.jsåç«¯+è¿ç§»åˆ°Ruståç«¯API
ä½ çš„ç–‘é—®å¾ˆå…³é”®ï¼Œè®©æˆ‘è¯¦ç»†åˆ†æä¸€ä¸‹ï¼šåŸºäºæœç´¢ç»“æœï¼Œæˆ‘æ¥è¯¦ç»†å›ç­”ä½ çš„ç–‘é—®ï¼š

## 1. Tauriå¯¹Node.jsçš„æ”¯æŒæƒ…å†µ

**Tauriæœ¬èº«æ²¡æœ‰å†…ç½®Node.jsè§£é‡Šå™¨**ï¼š
- Tauriä¸åµŒå…¥ä»»ä½•nodeè¿è¡Œæ—¶ï¼Œå”¯ä¸€çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨pkgç­‰å·¥å…·æ‰“åŒ…ä½ çš„nodeåº”ç”¨ï¼Œç„¶åå°†å…¶ç”¨ä½œsidecar
- éœ€è¦å°†Node.jsåº”ç”¨æ‰“åŒ…ä¸ºè‡ªåŒ…å«çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½œä¸ºsidecaråœ¨Tauriåº”ç”¨ä¸­ä½¿ç”¨ï¼Œè€Œä¸éœ€è¦æœ€ç»ˆç”¨æˆ·å®‰è£…Node.js

**Taurié‡å†™/æä¾›äº†ä»€ä¹ˆ**ï¼š
- Tauriä½¿ç”¨WRYæ¥æ¸²æŸ“åº”ç”¨ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ºç³»ç»Ÿwebviewæä¾›ç»Ÿä¸€æ¥å£çš„åº“ï¼Œåœ¨macOSå’ŒiOSä¸Šä½¿ç”¨WKWebViewï¼Œåœ¨Windowsä¸Šä½¿ç”¨WebView2ï¼Œåœ¨Linuxä¸Šä½¿ç”¨WebKitGTKï¼Œåœ¨Androidä¸Šä½¿ç”¨Android System WebView
- Tauriç›´æ¥ä½¿ç”¨WRYå’ŒTAOæ¥å®Œæˆå‘OSçš„ç³»ç»Ÿè°ƒç”¨çš„é‡è¦å·¥ä½œï¼Œå®ƒä¸æ˜¯VMæˆ–è™šæ‹ŸåŒ–ç¯å¢ƒï¼Œè€Œæ˜¯ä¸€ä¸ªåº”ç”¨å·¥å…·åŒ…
- Tauri 2.0é‡å†™äº†IPCå±‚ï¼Œæ”¯æŒRaw Payloadsï¼Œæ”¹å˜äº†åº•å±‚å·¥ä½œæ–¹å¼ï¼Œä¹‹å‰æ‰€æœ‰IPCè½½è·éƒ½è¿›è¡Œjsonåºåˆ—åŒ–å’Œååºåˆ—åŒ–

## 2. åŸºäºä½ çš„éœ€æ±‚åˆ†æ

ä½ æƒ³"å……åˆ†åˆ©ç”¨webåº”ç”¨(nodejs)çš„ä»£ç ï¼Œä¸ç”¨é‡å†™ï¼Œå°‘åšé…ç½®å°±å¯ä»¥ç§»æ¤åˆ°Tauri"ï¼Œè¿™ä¸ªéœ€æ±‚åˆ†æï¼š

### Sidecaræ–¹æ¡ˆçš„é—®é¢˜ï¼š
1. **æ€§èƒ½å¼€é”€**ï¼šéœ€è¦æ‰“åŒ…æ•´ä¸ªNode.jsè¿è¡Œæ—¶
2. **ä½“ç§¯é—®é¢˜**ï¼šäºŒè¿›åˆ¶æ–‡ä»¶ä¼šæ˜¾è‘—å¢å¤§
3. **å¤æ‚æ€§**ï¼šéœ€è¦ç®¡ç†è¿›ç¨‹é—´é€šä¿¡å’Œç”Ÿå‘½å‘¨æœŸ
4. **èµ„æºæ¶ˆè€—**ï¼šåŒæ—¶è¿è¡ŒRuståç«¯å’ŒNode.js sidecar

### æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼š**çº¯Ruståç«¯API + Node.jså‰ç«¯**## æ€»ç»“å»ºè®®

åŸºäºä½ çš„éœ€æ±‚åˆ†æï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼š

1. **Tauriæœ¬èº«ä¸æä¾›Node.jsè§£é‡Šå™¨**ï¼Œåªæ˜¯æä¾›äº†ç³»ç»Ÿwebviewçš„å°è£…å’ŒRuståç«¯èƒ½åŠ›

2. **ä»ä»£ç å¤ç”¨è§’åº¦**ï¼Œçº¯Ruståç«¯API + Node.jså‰ç«¯æ–¹æ¡ˆæ›´ä¼˜ï¼š
   - å‰ç«¯ä»£ç å‡ ä¹ä¸éœ€è¦ä¿®æ”¹
   - åªéœ€è¦é‡å†™åç«¯APIéƒ¨åˆ†
   - æœ€ç»ˆè·å¾—æ›´å¥½çš„æ€§èƒ½å’Œæ›´å°çš„ä½“ç§¯

3. **å®æ–½è·¯å¾„å»ºè®®**ï¼š
   ```
   Step 1: åˆ†æç°æœ‰Node.js APIæ¥å£
   Step 2: ç”¨Rusté‡å†™è¿™äº›APIï¼ˆä¿æŒæ¥å£å…¼å®¹ï¼‰
   Step 3: å‰ç«¯è°ƒç”¨ä»HTTPæ”¹ä¸ºTauri Command
   Step 4: é€æ­¥ä¼˜åŒ–å’Œç±»å‹å®‰å…¨åŒ–
   ```

4. **å¦‚æœç¡®å®éœ€è¦å¿«é€Ÿè¿ç§»**ï¼ŒSidecaræ˜¯å¯è¡Œçš„ï¼Œä½†è¦æ¥å—ä½“ç§¯å’Œæ€§èƒ½çš„ä»£ä»·

ä½ çš„ç›´è§‰æ˜¯å¯¹çš„ - å¯»æ‰¾çº¯Rustç‰ˆæœ¬çš„åç«¯APIç¡®å®æ˜¯æ›´å¥½çš„é•¿æœŸæ–¹æ¡ˆï¼Œè™½ç„¶éœ€è¦ä¸€äº›é‡å†™å·¥ä½œï¼Œä½†èƒ½è·å¾—æ˜¾è‘—çš„æ€§èƒ½æå‡å’Œæ›´å°çš„åˆ†å‘ä½“ç§¯ã€‚

### å…·ä½“æ–¹æ¡ˆ
# Tauriæ¶æ„æ–¹æ¡ˆå¯¹æ¯”åˆ†æ

## æ–¹æ¡ˆAï¼šNode.js Sidecar + Tauri
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Tauri App            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚     Web Frontend        â”‚â”‚  â† ä½ çš„ç°æœ‰Node.jsä»£ç 
â”‚  â”‚    (HTML/CSS/JS)        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   Rust Core (Tauri)     â”‚â”‚  â† ç³»ç»Ÿè°ƒç”¨ã€ç¡¬ä»¶è®¿é—®
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Node.js Sidecar        â”‚â”‚  â† æ‰“åŒ…çš„Node.jsåç«¯
â”‚  â”‚  (pkg/nexeæ‰“åŒ…)         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¼˜åŠ¿ï¼š
- âœ… å®Œå…¨é‡ç”¨ç°æœ‰Node.jsä»£ç 
- âœ… é›¶é‡å†™æˆæœ¬

### åŠ£åŠ¿ï¼š
- âŒ åº”ç”¨ä½“ç§¯å¤§ï¼ˆ+40-80MBï¼‰
- âŒ å†…å­˜å ç”¨é«˜ï¼ˆåŒè¿è¡Œæ—¶ï¼‰
- âŒ å¯åŠ¨æ—¶é—´é•¿
- âŒ è¿›ç¨‹ç®¡ç†å¤æ‚
- âŒ è°ƒè¯•å›°éš¾

## æ–¹æ¡ˆBï¼šçº¯Ruståç«¯API + è½»é‡å‰ç«¯ï¼ˆæ¨èï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Tauri App            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   Web Frontend          â”‚â”‚  â† ä¿ç•™å‰ç«¯é€»è¾‘ï¼ŒAPIè°ƒç”¨
â”‚  â”‚  (React/Vue/Vanilla)    â”‚â”‚     æ”¹ä¸ºè°ƒç”¨Rust API
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   Rust Backend API      â”‚â”‚  â† é‡å†™åç«¯APIï¼ˆä¸€æ¬¡æ€§å·¥ä½œï¼‰
â”‚  â”‚   + ç³»ç»Ÿè°ƒç”¨ + ç¡¬ä»¶     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¼˜åŠ¿ï¼š
- âœ… åº”ç”¨ä½“ç§¯å°ï¼ˆ<10MBï¼‰
- âœ… æ€§èƒ½ä¼˜å¼‚ï¼ˆå•è¿è¡Œæ—¶ï¼‰
- âœ… å¯åŠ¨å¿«é€Ÿ
- âœ… å†…å­˜å ç”¨ä½
- âœ… è°ƒè¯•ç®€å•
- âœ… ç±»å‹å®‰å…¨

### å·¥ä½œé‡ï¼š
- ğŸ”„ éœ€è¦å°†Node.jsåç«¯APIè¿ç§»åˆ°Rust
- âœ… å‰ç«¯ä»£ç åŸºæœ¬æ— éœ€ä¿®æ”¹

## è¿ç§»ç­–ç•¥ï¼šæ¸è¿›å¼é‡å†™

### ç¬¬ä¸€é˜¶æ®µï¼šAPIå…¼å®¹å±‚
```rust
// åˆ›å»ºä¸åŸNode.js APIå®Œå…¨å…¼å®¹çš„Rustç«¯ç‚¹
// ä¾‹å¦‚ï¼šåŸæ¥çš„ POST /api/users
#[axum::debug_handler]
async fn create_user(
    Json(payload): Json<CreateUserRequest>
) -> Result<Json<UserResponse>, ApiError> {
    // å®ç°ä¸Node.jsç‰ˆæœ¬ç›¸åŒçš„é€»è¾‘
    // è¿”å›ç›¸åŒçš„JSONç»“æ„
}
```

### ç¬¬äºŒé˜¶æ®µï¼šå‰ç«¯APIè°ƒç”¨æ— ç¼åˆ‡æ¢
```javascript
// å‰ç«¯ä»£ç æ— éœ€ä¿®æ”¹
// ä»è°ƒç”¨ http://localhost:3000/api/users
// åˆ‡æ¢åˆ°è°ƒç”¨ Tauri API
import { invoke } from '@tauri-apps/api/core';

// åŸæ¥çš„fetchè°ƒç”¨
// const response = await fetch('/api/users', {...});

// ç°åœ¨é€šè¿‡Tauriå‘½ä»¤è°ƒç”¨
const response = await invoke('api_create_user', { payload });
```

### ç¬¬ä¸‰é˜¶æ®µï¼šé€æ­¥ä¼˜åŒ–
- åˆ©ç”¨Rustçš„æ€§èƒ½ä¼˜åŠ¿
- æ·»åŠ ç±»å‹å®‰å…¨
- ä¼˜åŒ–æ•°æ®ç»“æ„

## å…·ä½“å®æ–½å»ºè®®

### 1. APIæ˜ å°„è¡¨
åˆ›å»ºä¸€ä¸ªæ˜ å°„è¡¨ï¼Œå°†ç°æœ‰çš„Node.js APIä¸€ä¸€å¯¹åº”åˆ°Rustå®ç°ï¼š

```rust
// src/api/mod.rs
pub mod users;
pub mod auth;
pub mod media;

// ç»Ÿä¸€çš„APIè·¯ç”±å™¨
pub fn create_api_router() -> Router {
    Router::new()
        .route("/api/users", post(users::create_user))
        .route("/api/users", get(users::get_users))
        .route("/api/auth/login", post(auth::login))
        .route("/api/media/upload", post(media::upload))
        // ... å…¶ä»–API
}
```

### 2. æ•°æ®æ¨¡å‹å…¼å®¹
```rust
// ä¿æŒä¸Node.jsç‰ˆæœ¬ç›¸åŒçš„JSONç»“æ„
#[derive(Serialize, Deserialize)]
pub struct UserResponse {
    pub id: String,
    pub name: String,
    pub email: String,
    pub created_at: String, // ä¿æŒå­—ç¬¦ä¸²æ ¼å¼å…¼å®¹å‰ç«¯
}
```

### 3. é”™è¯¯å¤„ç†å…¼å®¹
```rust
// ä¿æŒä¸Node.jsç‰ˆæœ¬ç›¸åŒçš„é”™è¯¯å“åº”æ ¼å¼
#[derive(Serialize)]
pub struct ApiError {
    pub error: String,
    pub code: u16,
    pub message: String,
}
```

## æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | Node.js Sidecar | çº¯Rust API |
|------|----------------|------------|
| åº”ç”¨ä½“ç§¯ | ~60-100MB | ~8-15MB |
| å†…å­˜å ç”¨ | ~150-300MB | ~30-80MB |
| å¯åŠ¨æ—¶é—´ | 3-8ç§’ | <1ç§’ |
| APIå“åº”æ—¶é—´ | 10-50ms | 1-10ms |
| å¹¶å‘å¤„ç† | ä¸­ç­‰ | ä¼˜ç§€ |

## å¼€å‘å·¥ä½œé‡è¯„ä¼°

### Node.js Sidecaræ–¹æ¡ˆï¼š
- é…ç½®å·¥ä½œï¼š2-3å¤©
- æµ‹è¯•è°ƒè¯•ï¼š3-5å¤©
- **æ€»è®¡ï¼š1å‘¨**

### çº¯Rust APIæ–¹æ¡ˆï¼š
- APIé‡å†™ï¼š2-4å‘¨ï¼ˆå–å†³äºAPIå¤æ‚åº¦ï¼‰
- æµ‹è¯•è°ƒè¯•ï¼š1-2å‘¨
- **æ€»è®¡ï¼š3-6å‘¨**

## æœ€ç»ˆå»ºè®®

åŸºäºä½ çš„éœ€æ±‚"å……åˆ†åˆ©ç”¨webåº”ç”¨ä»£ç ï¼Œå°‘åšé…ç½®"ï¼Œæˆ‘å»ºè®®ï¼š

1. **çŸ­æœŸ**ï¼šå¦‚æœæ€¥éœ€ä¸Šçº¿ï¼Œå¯ä»¥å…ˆç”¨Sidecaræ–¹æ¡ˆå¿«é€Ÿè¿ç§»
2. **é•¿æœŸ**ï¼šé€æ­¥è¿ç§»åˆ°çº¯Rust APIæ–¹æ¡ˆï¼Œè·å¾—æ›´å¥½çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

**æœ€ä¼˜è·¯å¾„**ï¼š
```
ç°æœ‰Node.js Webåº”ç”¨ 
    â†“ 
Tauri + Node.js Sidecar (å¿«é€Ÿè¿ç§»)
    â†“
é€æ­¥å°†APIé‡å†™ä¸ºRust (æ€§èƒ½ä¼˜åŒ–)
    â†“
çº¯Ruståç«¯ + Webå‰ç«¯ (æœ€ç»ˆæ–¹æ¡ˆ)
```

è¿™æ ·æ—¢èƒ½å¿«é€Ÿå®ç°è·¨å¹³å°åˆ†å‘ï¼Œåˆèƒ½åœ¨åç»­è·å¾—æœ€ä½³çš„æ€§èƒ½å’Œä½“éªŒã€‚

æˆ‘æ›´å€¾å‘äºÂ axumÂ æ¡†æ¶ï¼Œå› ä¸ºå®ƒæœ‰è¾ƒä¸ºæ˜“ç”¨çš„ API è®¾è®¡ï¼Œä¸”å®ƒæ˜¯åŸºäºÂ hyperÂ æ„å»ºçš„ï¼Œä¸”å®ƒæ˜¯ tokio å¼€å‘ç»„çš„äº§ç‰©ã€‚ï¼ˆå®ƒæ˜¯ä¸€ä¸ªéå¸¸å¹´è½»çš„æ¡†æ¶ï¼Œè¿™ç‚¹ä¼šä½¿å¾ˆå¤šäººä¸æ•¢å°è¯•ï¼‰
å¯¹äºå¤§å‹é¡¹ç›®æ¥è¯´Â actix-webÂ æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨å¼€å‘Â BloomÂ æ—¶é€‰æ‹©äº†å®ƒã€‚
å¯¹äºè¾ƒå°å‹çš„é¡¹ç›®æ¥è¯´Â warpÂ å°±å¾ˆæ£’äº†ï¼Œå°½ç®¡å®ƒçš„ API è¾ƒäºåŸå§‹ï¼Œä½†å®ƒä¹Ÿæ˜¯åŸºäº hyper å¼€å‘çš„ï¼Œæ‰€ä»¥è¯´æ€§èƒ½å’Œå®‰å…¨æ€§éƒ½æœ‰ä¿éšœã€‚
æ— è®ºå¦‚ä½•ï¼Œåªè¦æ‹¥æœ‰ä¸€ä¸ªä¼˜ç§€çš„é¡¹ç›®æ¶æ„ï¼Œä»ä¸€ä¸ªæ¡†æ¶åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ¡†æ¶éƒ½ä¼šæ˜¯å¾ˆå®¹æ˜“çš„äº‹æƒ…ï¼Œæ‰€ä»¥ä¸ç”¨æƒ³å¤ªå¤šï¼Œå¼€å¹²å§ :)

## TSå‰ç«¯é¡µé¢+Ruståç«¯API
å¼€å§‹å¯ä»¥è®¾è®¡å¥½APIï¼Œç„¶åä½¿ç”¨Nodejsåšåç«¯APIï¼Œå®ŒæˆWebç‰ˆæœ¬çš„å¼€å‘ã€‚
å› ä¸ºAPIå”¯ä¸€ï¼Œå¯ä»¥å†è¿ç§»åˆ°Rust APIï¼Œå‰ç«¯äº¤äº’å‡ ä¹ä¸ç”¨è°ƒæ•´ï¼Œè¿ç§»åˆ°äº†Tauriä¸Šã€‚
ä¹Ÿå¯ä»¥ç›´æ¥å®ŒæˆRust API+ TSï¼Œä½†ç›®å‰çœ‹passkeyçš„æ”¯æŒï¼Œéœ€è¦å®éªŒæµ‹è¯•ã€‚

è¿™ä¸ªæ¶æ„æ–¹æ¡ˆéå¸¸ä¼˜ç§€ï¼è®©æˆ‘è¯¦ç»†è¯„ä¼°ä¸€ä¸‹ï¼š

## æ¶æ„è¯„ä¼°ï¼šRuståšAPIæœåŠ¡ + TypeScriptåšå‰ç«¯

è¿™ç§åˆ†ç¦»æ¶æ„æ˜¯**å¼ºçƒˆæ¨èçš„**ï¼ŒåŸå› å¦‚ä¸‹ï¼š

### ä¼˜åŠ¿åˆ†æ

1. **æ€§èƒ½æœ€ä¼˜åŒ–**ï¼šActix Webåœ¨æ€§èƒ½æ–¹é¢ä»ç„¶æ˜¯é¢†å¯¼è€…ï¼Œæä¾›æœ€é«˜çš„ååé‡å’Œæœ€ä½çš„å»¶è¿Ÿï¼Œè€ŒAxumæä¾›å‡ ä¹ç›¸åŒçš„æ€§èƒ½ï¼Œä½†å†…å­˜ä½¿ç”¨æ›´ä½ï¼Œä¸Tokioé›†æˆæ›´å¥½

2. **ä¸“ä¸šåŒ–åˆ†å·¥**ï¼š
   - Rustï¼šä¸“æ³¨äºé«˜æ€§èƒ½è®¡ç®—ã€ç¡¬ä»¶è°ƒç”¨ã€ç³»ç»Ÿçº§æ“ä½œ
   - TypeScriptï¼šä¸“æ³¨äºUIäº¤äº’ã€ä¸šåŠ¡é€»è¾‘ã€ç”¨æˆ·ä½“éªŒ

3. **å¼€å‘æ•ˆç‡**ï¼šè™½ç„¶TypeScriptåœ¨é«˜æ€§èƒ½åœºæ™¯ä¸‹ä¸å¦‚Rustå’ŒGoï¼Œä½†TypeScriptåœ¨å¼€å‘æ•ˆç‡æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œæ‹¥æœ‰å¼ºå¤§çš„ç”Ÿæ€ç³»ç»Ÿå’Œå¼€å‘çµæ´»æ€§

4. **æŠ€æœ¯æ ˆæˆç†Ÿåº¦**ï¼šRusté€Ÿåº¦æå¿«ä¸”å†…å­˜é«˜æ•ˆï¼Œæ²¡æœ‰è¿è¡Œæ—¶æˆ–åƒåœ¾æ”¶é›†å™¨ï¼Œå¯ä»¥é©±åŠ¨æ€§èƒ½å…³é”®æœåŠ¡ï¼Œåœ¨åµŒå…¥å¼è®¾å¤‡ä¸Šè¿è¡Œï¼Œå¹¶ä¸”å®¹æ˜“ä¸å…¶ä»–è¯­è¨€é›†æˆ

## æ¨èçš„Rust APIæ¡†æ¶

åŸºäºæ€§èƒ½å’Œæ˜“ç”¨æ€§çš„å¹³è¡¡ï¼Œä»¥ä¸‹æ˜¯æ¨èé¡ºåºï¼š## æ€»ä½“è¯„ä¼°

ä½ çš„è¿™ä¸ªæ¶æ„é€‰æ‹©**éå¸¸æ˜æ™º**ï¼Œå…·æœ‰ä»¥ä¸‹æ˜¾è‘—ä¼˜åŠ¿ï¼š

### 1. **æ¸…æ™°çš„èŒè´£åˆ†ç¦»**
- **Rust API**ï¼šä¸“æ³¨ç¡¬ä»¶æ§åˆ¶ã€é«˜æ€§èƒ½è®¡ç®—ã€ç³»ç»Ÿè°ƒç”¨
- **TypeScriptå‰ç«¯**ï¼šä¸“æ³¨UIäº¤äº’ã€çŠ¶æ€ç®¡ç†ã€ç”¨æˆ·ä½“éªŒ

### 2. **æŠ€æœ¯æ ˆä¼˜åŠ¿æœ€å¤§åŒ–**
- Rustæ¥è¿‘æˆ–åŒ¹é…Cå’ŒC++çš„æ€§èƒ½ï¼Œç”±äºå…¶æ‰§è¡Œé€Ÿåº¦å’Œå†…å­˜å®‰å…¨æ€§ï¼ŒåŠ ä¸Šæ²¡æœ‰åƒåœ¾æ”¶é›†çš„å¼€é”€ï¼Œé€šå¸¸å‚ç›´æ‰©å±•Rustç¨‹åºæ¯”Node.jsç¨‹åºæ›´é«˜æ•ˆ
- TypeScriptæä¾›ä¼˜ç§€çš„å¼€å‘ä½“éªŒå’Œç”Ÿæ€ç³»ç»Ÿ

### 3. **éƒ¨ç½²å’Œç»´æŠ¤ä¾¿åˆ©**
- å¯ä»¥ç‹¬ç«‹éƒ¨ç½²APIå’Œå‰ç«¯
- ä¾¿äºå›¢é˜Ÿåˆ†å·¥åä½œ
- æŠ€æœ¯æ ˆä¸“ä¸šåŒ–ï¼Œé™ä½å¤æ‚æ€§

### 4. **æ€§èƒ½è¡¨ç°**
æ ¹æ®æœ€æ–°åŸºå‡†æµ‹è¯•ï¼ŒActix Webä»ç„¶æ˜¯æ€§èƒ½é¢†å¯¼è€…ï¼Œæä¾›æœ€é«˜ååé‡å’Œæœ€ä½å»¶è¿Ÿï¼Œè€ŒAxumæä¾›å‡ ä¹ç›¸åŒçš„æ€§èƒ½ä½†å†…å­˜ä½¿ç”¨æ›´ä½

## æ¡†æ¶æ¨èä¼˜å…ˆçº§

1. **Axum**ï¼ˆæœ€æ¨èï¼‰- æœ€ä½³çš„å¹³è¡¡ç‚¹
2. **Actix Web**ï¼ˆæ€§èƒ½æœ€ä¼˜ï¼‰- å¦‚æœéœ€è¦æè‡´æ€§èƒ½
3. **Rocket**ï¼ˆå¼€å‘æœ€å¿«ï¼‰- å¦‚æœéœ€è¦å¿«é€ŸåŸå‹

è¿™ç§æ¶æ„ç‰¹åˆ«é€‚åˆä½ çš„åœºæ™¯ï¼šæ—¢è¦å¤„ç†ç¡¬ä»¶æ“ä½œï¼Œåˆè¦æä¾›è‰¯å¥½çš„Webäº¤äº’ä½“éªŒã€‚Rustè´Ÿè´£"é‡æ´»ç´¯æ´»"ï¼ŒTypeScriptè´Ÿè´£"ç²¾ç»†æ´»"ï¼Œæ˜¯ä¸€ä¸ªéå¸¸åˆç†çš„æŠ€æœ¯é€‰æ‹©ã€‚

### å®éªŒ
# Rust APIæ¡†æ¶é€‰æ‹©æŒ‡å—

## ğŸ† Top 3 æ¨èæ¡†æ¶

### 1. Axum (æœ€æ¨è)
```rust
// ç®€æ´çš„APIè®¾è®¡ç¤ºä¾‹
use axum::{
    routing::{get, post},
    Router, Json, extract::Path,
    response::Json as ResponseJson,
};

async fn get_hardware_info() -> ResponseJson<HardwareInfo> {
    // ç¡¬ä»¶ä¿¡æ¯è·å–
    let info = collect_hardware_info().await;
    ResponseJson(info)
}

async fn control_device(
    Path(device_id): Path<String>,
    Json(command): Json<DeviceCommand>
) -> Result<ResponseJson<DeviceResponse>, ApiError> {
    // é«˜æ€§èƒ½ç¡¬ä»¶æ§åˆ¶
    let result = hardware_controller::execute(device_id, command).await?;
    Ok(ResponseJson(result))
}

fn create_router() -> Router {
    Router::new()
        .route("/api/hardware/info", get(get_hardware_info))
        .route("/api/devices/:id/control", post(control_device))
        .route("/api/performance/metrics", get(get_performance_metrics))
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… ç”±Tokioå›¢é˜Ÿç»´æŠ¤ï¼Œç”Ÿæ€ç³»ç»Ÿæœ€å®Œæ•´
- âœ… æ— å®è®¾è®¡ï¼Œç¼–è¯‘é”™è¯¯æ¸…æ™°
- âœ… ä¸Tokioç”Ÿæ€å®Œç¾é›†æˆ
- âœ… ç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒæœ€ä½³
- âœ… å†…å­˜ä½¿ç”¨æ•ˆç‡é«˜

**é€‚ç”¨åœºæ™¯**ï¼š
- éœ€è¦ä¸å¤§é‡ç¬¬ä¸‰æ–¹åº“é›†æˆ
- é‡è§†ä»£ç å¯ç»´æŠ¤æ€§
- å›¢é˜Ÿæœ‰å¤šç§ç»éªŒå±‚æ¬¡çš„å¼€å‘è€…

### 2. Actix Web (æ€§èƒ½æœ€ä¼˜)
```rust
use actix_web::{web, App, HttpServer, Result, HttpResponse};
use serde::{Deserialize, Serialize};

#[derive(Serialize)]
struct HardwareStats {
    cpu_usage: f64,
    memory_usage: f64,
    disk_io: u64,
}

async fn hardware_stats() -> Result<HttpResponse> {
    let stats = HardwareStats {
        cpu_usage: get_cpu_usage().await,
        memory_usage: get_memory_usage().await,
        disk_io: get_disk_io().await,
    };
    Ok(HttpResponse::Ok().json(stats))
}

async fn high_performance_endpoint(
    data: web::Json<ProcessingRequest>
) -> Result<HttpResponse> {
    // é«˜æ€§èƒ½æ•°æ®å¤„ç†
    let result = process_intensive_task(data.into_inner()).await;
    Ok(HttpResponse::Ok().json(result))
}

#[actix_web::main]
async fn main() -> std::io::Result<()> {
    HttpServer::new(|| {
        App::new()
            .route("/api/hardware/stats", web::get().to(hardware_stats))
            .route("/api/process", web::post().to(high_performance_endpoint))
    })
    .bind("127.0.0.1:8080")?
    .run()
    .await
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… ç»å¯¹çš„æ€§èƒ½ç‹è€…
- âœ… ä¹…ç»è€ƒéªŒï¼Œç”Ÿäº§ç¯å¢ƒç¨³å®š
- âœ… å†…ç½®å¾ˆå¤šåŠŸèƒ½ï¼ˆä¸­é—´ä»¶ã€WebSocketç­‰ï¼‰
- âœ… è‡ªå®šä¹‰HTTPæ ˆï¼Œä¼˜åŒ–åˆ°æè‡´

**é€‚ç”¨åœºæ™¯**ï¼š
- æé«˜æ€§èƒ½è¦æ±‚
- å¤§é‡å¹¶å‘è¿æ¥
- å¯¹å»¶è¿Ÿè¦æ±‚æä¸¥æ ¼

### 3. Rocket (å¼€å‘ä½“éªŒæœ€ä½³)
```rust
#[macro_use] extern crate rocket;
use rocket::serde::{Deserialize, Serialize, json::Json};

#[derive(Serialize, Deserialize)]
struct HardwareCommand {
    device: String,
    action: String,
    parameters: Vec<String>,
}

#[derive(Serialize)]
struct CommandResult {
    success: bool,
    message: String,
    data: Option<String>,
}

#[post("/api/hardware/command", data = "<command>")]
async fn execute_hardware_command(command: Json<HardwareCommand>) -> Json<CommandResult> {
    // ç¡¬ä»¶å‘½ä»¤æ‰§è¡Œ
    let result = match execute_system_command(&command.device, &command.action).await {
        Ok(data) => CommandResult {
            success: true,
            message: "Command executed successfully".to_string(),
            data: Some(data),
        },
        Err(e) => CommandResult {
            success: false,
            message: e.to_string(),
            data: None,
        },
    };
    Json(result)
}

#[get("/api/system/status")]
async fn system_status() -> Json<SystemStatus> {
    Json(SystemStatus {
        uptime: get_system_uptime(),
        load: get_system_load(),
        temperature: get_cpu_temperature(),
    })
}

#[launch]
fn rocket() -> _ {
    rocket::build()
        .mount("/", routes![execute_hardware_command, system_status])
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… æœ€ç®€æ´çš„APIè®¾è®¡
- âœ… å¼ºå¤§çš„ç±»å‹ç³»ç»Ÿå’ŒéªŒè¯
- âœ… ä¼˜ç§€çš„é”™è¯¯å¤„ç†
- âœ… å­¦ä¹ æ›²çº¿æœ€å¹³ç¼“

**é€‚ç”¨åœºæ™¯**ï¼š
- å¿«é€ŸåŸå‹å¼€å‘
- ä¸­å°è§„æ¨¡åº”ç”¨
- é‡è§†å¼€å‘é€Ÿåº¦

## ç¡¬ä»¶ç›¸å…³åŠŸèƒ½å®ç°

### ç³»ç»Ÿä¿¡æ¯è·å–
```rust
// æ¨èä½¿ç”¨çš„ç¡¬ä»¶ä¿¡æ¯åº“
use sysinfo::{System, SystemExt, ProcessorExt, DiskExt};
use tokio::fs;

#[derive(Serialize)]
pub struct HardwareInfo {
    pub cpu_count: usize,
    pub total_memory: u64,
    pub available_memory: u64,
    pub disk_usage: Vec<DiskInfo>,
    pub cpu_usage: f32,
    pub temperature: Option<f32>,
}

pub async fn collect_hardware_info() -> HardwareInfo {
    let mut system = System::new_all();
    system.refresh_all();
    
    HardwareInfo {
        cpu_count: system.processors().len(),
        total_memory: system.total_memory(),
        available_memory: system.available_memory(),
        disk_usage: system.disks().iter().map(|disk| {
            DiskInfo {
                name: disk.name().to_string_lossy().to_string(),
                total_space: disk.total_space(),
                available_space: disk.available_space(),
            }
        }).collect(),
        cpu_usage: system.global_processor_info().cpu_usage(),
        temperature: get_cpu_temperature(),
    }
}
```

### ç¡¬ä»¶æ§åˆ¶æ¥å£
```rust
use tokio::process::Command;
use std::process::Stdio;

pub async fn execute_system_command(device: &str, action: &str) -> Result<String, ApiError> {
    let output = Command::new("sh")
        .arg("-c")
        .arg(format!("echo '{}' > /sys/class/{}/control", action, device))
        .stdout(Stdio::piped())
        .stderr(Stdio::piped())
        .spawn()?
        .wait_with_output()
        .await?;
    
    if output.status.success() {
        Ok(String::from_utf8_lossy(&output.stdout).to_string())
    } else {
        Err(ApiError::HardwareError(
            String::from_utf8_lossy(&output.stderr).to_string()
        ))
    }
}
```

## æ€§èƒ½å¯¹æ¯”

| æ¡†æ¶ | ååé‡ (req/sec) | å»¶è¿Ÿ (ms) | å†…å­˜ä½¿ç”¨ | å¼€å‘ä½“éªŒ |
|------|-----------------|-----------|----------|----------|
| Actix Web | 180K+ | 0.5-2ms | ä¸­ç­‰ | â­â­â­â­ |
| Axum | 170K+ | 0.6-2.5ms | ä½ | â­â­â­â­â­ |
| Rocket | 120K+ | 1-4ms | ä¸­ç­‰ | â­â­â­â­â­ |

## TypeScripté›†æˆç¤ºä¾‹

### å‰ç«¯APIè°ƒç”¨
```typescript
// api/hardware.ts
class HardwareAPI {
  private baseURL = 'http://localhost:8080/api';

  async getHardwareInfo(): Promise<HardwareInfo> {
    const response = await fetch(`${this.baseURL}/hardware/info`);
    return response.json();
  }

  async controlDevice(deviceId: string, command: DeviceCommand): Promise<DeviceResponse> {
    const response = await fetch(`${this.baseURL}/devices/${deviceId}/control`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(command)
    });
    return response.json();
  }

  async getPerformanceMetrics(): Promise<PerformanceMetrics> {
    const response = await fetch(`${this.baseURL}/performance/metrics`);
    return response.json();
  }
}

// ä½¿ç”¨ç¤ºä¾‹
const hardwareAPI = new HardwareAPI();

// Reactç»„ä»¶ä¸­
function HardwareMonitor() {
  const [hardwareInfo, setHardwareInfo] = useState<HardwareInfo | null>(null);
  
  useEffect(() => {
    const fetchData = async () => {
      try {
        const info = await hardwareAPI.getHardwareInfo();
        setHardwareInfo(info);
      } catch (error) {
        console.error('Failed to fetch hardware info:', error);
      }
    };
    
    fetchData();
    const interval = setInterval(fetchData, 5000); // æ¯5ç§’æ›´æ–°
    return () => clearInterval(interval);
  }, []);

  return (
    <div>
      {hardwareInfo && (
        <div>
          <p>CPU Usage: {hardwareInfo.cpu_usage}%</p>
          <p>Memory: {hardwareInfo.available_memory}/{hardwareInfo.total_memory}</p>
        </div>
      )}
    </div>
  );
}
```

## éƒ¨ç½²é…ç½®

### Rust APIæœåŠ¡
```toml
# Cargo.toml
[package]
name = "hardware-api"
version = "0.1.0"
edition = "2021"

[dependencies]
# é€‰æ‹©ä½ çš„æ¡†æ¶
axum = "0.7"
# æˆ–è€… actix-web = "4.0"
# æˆ–è€… rocket = "0.5"

# ç¡¬ä»¶å’Œç³»ç»Ÿç›¸å…³
sysinfo = "0.30"
tokio = { version = "1.0", features = ["full"] }

# åºåˆ—åŒ–å’Œå·¥å…·
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
anyhow = "1.0"
tracing = "0.1"
```

### è·¨åŸŸé…ç½®
```rust
// ä¸ºå‰ç«¯åº”ç”¨é…ç½®CORS
use tower_http::cors::{CorsLayer, Any};

let cors = CorsLayer::new()
    .allow_origin(Any)
    .allow_methods(Any)
    .allow_headers(Any);

let app = Router::new()
    .route("/api/hardware/info", get(get_hardware_info))
    .layer(cors);
```

## æœ€ç»ˆå»ºè®®

**æ¨èé€‰æ‹©ï¼šAxum**
- å¹³è¡¡äº†æ€§èƒ½å’Œå¼€å‘ä½“éªŒ
- ç”Ÿæ€ç³»ç»Ÿæœ€å®Œæ•´
- æœªæ¥å‘å±•å‰æ™¯æœ€å¥½
- å­¦ä¹ æ›²çº¿åˆç†

**å¦‚æœéœ€è¦æè‡´æ€§èƒ½ï¼šé€‰æ‹©Actix Web**
**å¦‚æœéœ€è¦å¿«é€Ÿå¼€å‘ï¼šé€‰æ‹©Rocket**

è¿™ç§æ¶æ„è®©ä½ èƒ½å¤Ÿï¼š
1. ç”¨Rustå¤„ç†æ‰€æœ‰æ€§èƒ½æ•æ„Ÿå’Œç¡¬ä»¶ç›¸å…³çš„æ“ä½œ
2. ç”¨TypeScriptå¤„ç†æ‰€æœ‰UIå’Œä¸šåŠ¡é€»è¾‘
3. é€šè¿‡HTTP APIæ¸…æ™°åœ°åˆ†ç¦»å…³æ³¨ç‚¹
4. ç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•å„ä¸ªç»„ä»¶

## å¦å¤–ä¸€ä¸ªé€‰æ‹©æ–¹æ¡ˆ

WebAssembly  (Wasm)  æ˜¯ä¸€ç§å¯ç§»æ¤çš„åº•å±‚è¯­è¨€ï¼Œå¹¶ä¸”å¯ä»¥ç”± Rust ç¼–è¯‘è€Œæ¥ã€‚å®ƒåœ¨æµè§ˆå™¨ä¸­å¯ä»¥ä»¥åŸç”Ÿé€Ÿåº¦è¿è¡Œï¼Œè¿˜åŒæ—¶æ”¯æŒå’Œ JavaScript äº¤äº’ã€‚è¿™äº›åœ¨æ‰€æœ‰çš„ä¸»æµæµè§ˆå™¨ä¸­éƒ½å·²ç»æä¾›ã€‚

æç«¯çš„æ˜¯ç”¨WebAssemblyå†™å‰ç«¯+Rusté…å¥—ï¼š
Rust + Yew + Axum + Tauri + Tailwindcss, full-stack Rust development for Desktop apps.
https://github.com/jhfnetboy/rust-yew-axum-tauri-desktop
æˆ‘æ¥å¸®ä½ åˆ†æè¿™ä¸ª Rust å…¨æ ˆæ¡Œé¢åº”ç”¨æ–¹æ¡ˆçš„é—®é¢˜ã€‚å…³äºä½ æåˆ°çš„ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘æ¥è¯¦ç»†è§£ç­”ï¼š

## 1. WebAssembly å†™å‰ç«¯çš„æŠ€æœ¯è¦æ±‚

è™½ç„¶æ¯” JavaScript æ¡†æ¶æ›´å›°éš¾ï¼Œä½†å¯¹äºä¸¥è‚ƒçš„ç¨‹åºå‘˜æ¥è¯´æ›´å¯å–ï¼Œå› ä¸ºå®ƒå…·æœ‰ä»£ç å®‰å…¨æ€§ã€é€Ÿåº¦å’Œç»´æŠ¤ä¼˜åŠ¿ã€‚ä½†å®é™…ä¸Šï¼ŒYew çš„å­¦ä¹ æ›²çº¿æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆé™¡å³­ï¼š

**æŠ€æœ¯è¦æ±‚åˆ†æï¼š**
- **Rust åŸºç¡€**ï¼šä½ éœ€è¦æŒæ¡ Rust çš„æ‰€æœ‰æƒã€å€Ÿç”¨æ£€æŸ¥ã€ç”Ÿå‘½å‘¨æœŸç­‰æ¦‚å¿µ
- **å‰ç«¯æ¦‚å¿µ**ï¼šå¦‚æœä½ ç†Ÿæ‚‰ React æˆ–å…¶ä»– JavaScript å‰ç«¯æ¡†æ¶ï¼Œä½ ä¼šå¯¹ Yew æ„Ÿåˆ°å¾ˆç†Ÿæ‚‰ï¼›å®ƒä½¿ç”¨ç±»ä¼¼ JSX çš„è¯­æ³•å’Œåº”ç”¨ç¨‹åºç»“æ„
- **WebAssembly çŸ¥è¯†**ï¼šåŸºæœ¬ä¸Šæ˜¯é€æ˜çš„ï¼ŒYew ä¼šå¤„ç†å¤§éƒ¨åˆ†ç¼–è¯‘ç»†èŠ‚

**å®é™…å¤æ‚åº¦ï¼š**
- å¼€å‘ä½“éªŒç±»ä¼¼ Reactï¼Œä½†éœ€è¦é€‚åº” Rust çš„ç±»å‹å®‰å…¨è¦æ±‚
- ç¼–è¯‘æ—¶é—´æ¯” JavaScript å¼€å‘ç¨é•¿
- è°ƒè¯•éœ€è¦ç‰¹æ®Šå·¥å…·ï¼Œä½†ç°åœ¨å·¥å…·é“¾å·²ç»ç›¸å½“æˆç†Ÿ

## 2. æ›¿æ¢ Yew ä½¿ç”¨ JS/TS çš„å¯è¡Œæ€§

è¿™å®Œå…¨å¯è¡Œï¼Tauri çš„æ¶æ„å¤©ç„¶æ”¯æŒè¿™ç§æ··åˆæ–¹æ¡ˆï¼š

**Tauri çš„çµæ´»æ€§ï¼š**
- å¼€å‘è€…å¯ä»¥é›†æˆä»»ä½•ç¼–è¯‘ä¸º HTMLã€JS å’Œ CSS çš„å‰ç«¯æ¡†æ¶æ¥æ„å»ºç”¨æˆ·ç•Œé¢
- ç”¨ JavaScript ç¼–å†™å‰ç«¯ï¼Œç”¨ Rust ç¼–å†™åº”ç”¨é€»è¾‘
- æ¨èä½¿ç”¨ Vite æ¥å¼€å‘ Reactã€Vueã€Svelte å’Œ Solid ç­‰ SPA æ¡†æ¶ï¼Œä¹Ÿé€‚ç”¨äºçº¯ JavaScript æˆ– TypeScript é¡¹ç›®

**æ··åˆæ–¹æ¡ˆçš„å®ç°æ€è·¯ï¼š**

1. **å®Œå…¨æ›¿æ¢æ–¹æ¡ˆ**ï¼š
   ```
   Frontend: React/Vue/Svelte + TypeScript
   Backend: Axum (Rust)
   Desktop: Tauri
   ```

2. **çµæ´»åˆ‡æ¢æ–¹æ¡ˆ**ï¼š
   - ä¸»è¦ä½¿ç”¨ JS/TS å‰ç«¯æ¡†æ¶
   - æ€§èƒ½å…³é”®éƒ¨åˆ†ç”¨ Yew + WebAssembly
   - é€šè¿‡ Tauri çš„äº‹ä»¶ç³»ç»Ÿå’Œå‘½ä»¤ç³»ç»Ÿè¿›è¡Œé€šä¿¡

3. **å…·ä½“å®ç°**ï¼š
   - ä¿æŒ Axum åç«¯ä¸å˜
   - å°† Yew å‰ç«¯æ›¿æ¢ä¸ºä½ ç†Ÿæ‚‰çš„ React/Vue + TypeScript
   - å¦‚éœ€é«˜æ€§èƒ½è®¡ç®—ï¼Œå¯ä»¥åˆ›å»ºç‹¬ç«‹çš„ WebAssembly æ¨¡å—
   - ä½¿ç”¨ Tauri äº‹ä»¶ç³»ç»Ÿå®ç° Rust å’Œå‰ç«¯çš„åŒå‘é€šä¿¡ï¼Œé€šè¿‡å‘½ä»¤ç³»ç»Ÿè°ƒç”¨ Rust å‡½æ•°

**æ¨èçš„è¿ç§»ç­–ç•¥ï¼š**
1. å…ˆç”¨ç†Ÿæ‚‰çš„ JS/TS æ¡†æ¶å¿«é€Ÿå¼€å‘
2. è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ
3. å°†å…³é”®éƒ¨åˆ†é€æ­¥è¿ç§»åˆ° WebAssembly
4. ä¿æŒæ¶æ„çš„çµæ´»æ€§

è¿™æ ·ä½ æ—¢èƒ½äº«å— JavaScript ç”Ÿæ€çš„ä¾¿åˆ©æ€§ï¼Œåˆèƒ½åœ¨éœ€è¦æ—¶è·å¾— Rust + WebAssembly çš„æ€§èƒ½ä¼˜åŠ¿ã€‚

## WASMä»‹ç»
ä½ çš„ç†è§£åŸºæœ¬æ­£ç¡®ï¼Œä½†å¯ä»¥è¿›ä¸€æ­¥ç»†åŒ–ä»¥æ›´å‡†ç¡®åœ°æè¿°WebAssembly (Wasm)çš„æœ¬è´¨åŠå…¶ä¸Rustã€V8çš„å…³ç³»ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†åˆ†æå’Œæ¾„æ¸…ï¼š
ä¸€ã€ä½ çš„ç†è§£è¯„ä¼°
â€œWasmæ˜¯ç»è¿‡Rustç¼–è¯‘åï¼Œæˆä¸ºäº†ä¸€ä¸ªV8å¯ä»¥è§£æçš„äºŒè¿›åˆ¶æ ¼å¼â€ï¼š
éƒ¨åˆ†æ­£ç¡®ï¼šWebAssemblyæœ¬èº«æ˜¯ä¸€ç§ä½çº§ã€å¹³å°æ— å…³çš„äºŒè¿›åˆ¶æŒ‡ä»¤æ ¼å¼ï¼Œè®¾è®¡ç›®çš„æ˜¯ä½œä¸ºæµè§ˆå™¨å’Œéæµè§ˆå™¨ç¯å¢ƒçš„è½»é‡çº§ã€å¯ç§»æ¤çš„è¿è¡Œæ—¶ã€‚å®ƒå¹¶ä¸æ˜¯ä¸“ä¸ºV8ï¼ˆChromeçš„JavaScriptå¼•æ“ï¼‰è®¾è®¡çš„ï¼Œè€Œæ˜¯ç”±å¤šä¸ªä¸»æµæµè§ˆå™¨å¼•æ“ï¼ˆV8ã€SpiderMonkeyã€JavaScriptCoreç­‰ï¼‰æ”¯æŒã€‚
æ¾„æ¸…ï¼šRustï¼ˆæˆ–å…¶ä»–æ”¯æŒWasmçš„é«˜çº§è¯­è¨€ï¼Œå¦‚Cã€C++ã€Goï¼‰ç¼–è¯‘åç”ŸæˆWasmäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆ.wasmï¼‰ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥è¢«Wasmè™šæ‹Ÿæœºï¼ˆç”±æµè§ˆå™¨å¼•æ“å®ç°ï¼‰è§£æå’Œæ‰§è¡Œã€‚V8æ˜¯å…¶ä¸­ä¸€ä¸ªæ”¯æŒWasmçš„å¼•æ“ï¼Œä½†Wasmçš„å…¼å®¹æ€§è¶…å‡ºäº†V8ï¼Œæ¶µç›–äº†æ‰€æœ‰ä¸»æµæµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safariã€Edgeç­‰ï¼‰ã€‚
â€œè¿™ä¸ªæ ¼å¼å¸¦æ¥äº†ä¼˜ç‚¹ï¼šè¿è¡Œå¿«â€ï¼š
æ­£ç¡®ï¼šWasmçš„äºŒè¿›åˆ¶æ ¼å¼ç´§å‡‘ï¼Œè®¾è®¡ä¸Šæ¥è¿‘æœºå™¨ç ï¼Œæ¶ˆé™¤äº†JavaScriptè§£é‡Šæˆ–JITç¼–è¯‘çš„å¼€é”€ï¼Œå¯ä»¥æ¥è¿‘åŸç”Ÿé€Ÿåº¦è¿è¡Œã€‚è¿™æ˜¯å…¶æ€§èƒ½ä¼˜åŠ¿çš„æ ¸å¿ƒåŸå› ã€‚
äºŒã€WebAssemblyçš„æœ¬è´¨ä¸å·¥ä½œåŸç†
å®šä¹‰ï¼šWasmæ˜¯ä¸€ç§ä½çº§çš„ã€å¯ç§»æ¤çš„äºŒè¿›åˆ¶æŒ‡ä»¤æ ¼å¼å’Œæ‰§è¡Œç¯å¢ƒï¼Œæœ€åˆç”±W3C WebAssemblyå·¥ä½œç»„å¼€å‘ï¼Œç›®æ ‡æ˜¯ä½œä¸ºJavaScriptçš„è¡¥å……ï¼Œè¿è¡Œé«˜æ€§èƒ½ä»£ç ã€‚
ç¼–è¯‘è¿‡ç¨‹ï¼š
Rustï¼ˆæˆ–å…¶ä»–è¯­è¨€ï¼‰é€šè¿‡å·¥å…·é“¾ï¼ˆå¦‚wasm-packæˆ–cargo build --target wasm32-unknown-unknownï¼‰ç¼–è¯‘ä¸ºWasmäºŒè¿›åˆ¶ã€‚
ç¼–è¯‘å™¨ï¼ˆå¦‚rustcï¼‰å°†Rustä»£ç è½¬ä¸ºWasmæ¨¡å—ï¼ŒåŒ…å«å‡½æ•°ã€æ•°æ®æ®µå’Œå¯¼å…¥/å¯¼å‡ºè¡¨ã€‚
è¿è¡Œç¯å¢ƒï¼š
æµè§ˆå™¨ä¸­çš„Wasmè™šæ‹Ÿæœºï¼ˆç”±V8ã€SpiderMonkeyç­‰å®ç°ï¼‰åŠ è½½.wasmæ–‡ä»¶ï¼ŒéªŒè¯å…¶å®‰å…¨æ€§å’Œç»“æ„ï¼Œç„¶åç¼–è¯‘ä¸ºæœºå™¨ç æ‰§è¡Œã€‚
Wasmæ”¯æŒä¸JavaScriptäº¤äº’ï¼Œé€šè¿‡WebAssembly.instantiateæˆ–import/exportæœºåˆ¶ã€‚
ä¼˜ç‚¹ï¼š
æ€§èƒ½ï¼šæ¥è¿‘åŸç”Ÿé€Ÿåº¦ï¼Œå› å…¶äºŒè¿›åˆ¶æ ¼å¼å‡å°‘äº†è§£é‡Šå¼€é”€ï¼Œç¼–è¯‘åç›´æ¥è¿è¡Œã€‚
å¯ç§»æ¤æ€§ï¼šè·¨å¹³å°ï¼ˆæµè§ˆå™¨ã€éæµè§ˆå™¨ï¼Œå¦‚Node.jsã€Wasmtimeï¼‰ã€‚
å®‰å…¨æ€§ï¼šæ²™ç›’æ‰§è¡Œï¼Œé™åˆ¶å†…å­˜å’Œç³»ç»Ÿè°ƒç”¨ï¼Œé˜²æ­¢æ¶æ„è¡Œä¸ºã€‚
ä¸JSäº¤äº’ï¼šé€šè¿‡JavaScriptè°ƒç”¨Wasmå‡½æ•°ï¼Œåä¹‹äº¦ç„¶ã€‚
ä¸‰ã€ä½ çš„ç†è§£çš„ä¿®æ­£ä¸è¡¥å……
ä¿®æ­£ï¼š
Wasmä¸æ˜¯â€œä¸“ä¸ºV8è®¾è®¡çš„äºŒè¿›åˆ¶æ ¼å¼â€ï¼Œè€Œæ˜¯é€šç”¨çš„Wasmæ ‡å‡†ï¼ŒV8åªæ˜¯å…¶æ”¯æŒè€…ä¹‹ä¸€ã€‚Rustç¼–è¯‘ç”Ÿæˆçš„Wasmå¯ç”±ä»»ä½•å…¼å®¹Wasmçš„è¿è¡Œæ—¶è§£æã€‚
Wasmçš„æ€§èƒ½ä¼˜åŠ¿ä¸ä»…æ¥è‡ªäºŒè¿›åˆ¶æ ¼å¼ï¼Œè¿˜åŒ…æ‹¬å…¶ç¼–è¯‘å’Œä¼˜åŒ–çš„èƒ½åŠ›ï¼Œä»¥åŠæ²™ç›’æ‰§è¡Œçš„æ•ˆç‡ã€‚
è¡¥å……ï¼š
Wasmæ¨¡å—æ˜¯é™æ€çš„ï¼ŒåŒ…å«ç¼–è¯‘åçš„ä»£ç å’Œæ•°æ®ï¼ŒåŠ è½½æ—¶ç”±è¿è¡Œæ—¶ï¼ˆå¦‚V8ï¼‰è¿›è¡Œå³æ—¶ç¼–è¯‘ï¼ˆAOTæˆ–JITï¼‰ï¼Œè¿™ä¸JavaScriptçš„åŠ¨æ€è§£é‡Šä¸åŒã€‚
å®ƒæ”¯æŒWeb APIï¼ˆå¦‚DOMæ“ä½œï¼‰é€šè¿‡JavaScriptæ¡¥æ¥ï¼Œæ‰©å±•äº†å…¶åº”ç”¨åœºæ™¯ã€‚
å››ã€ç»“è®º
ä½ çš„ç†è§£æ€»ä½“æ–¹å‘æ˜¯å¯¹çš„ï¼šRustç¼–è¯‘åç”ŸæˆWasmäºŒè¿›åˆ¶ï¼ŒV8ï¼ˆä»¥åŠå…¶ä»–å¼•æ“ï¼‰å¯ä»¥è§£æå¹¶ä»¥åŸç”Ÿé€Ÿåº¦è¿è¡Œï¼Œå¸¦æ¥æ€§èƒ½ä¼˜åŠ¿ã€‚ä¿®æ­£åçš„è¡¨è¿°æ˜¯ï¼š
â€œWasmæ˜¯é€šè¿‡Rustï¼ˆæˆ–å…¶ä»–è¯­è¨€ï¼‰ç¼–è¯‘ç”Ÿæˆçš„å¹³å°æ— å…³äºŒè¿›åˆ¶æ ¼å¼ï¼Œä¸»æµæµè§ˆå™¨ï¼ˆå¦‚Chromeçš„V8ã€Firefoxçš„SpiderMonkeyç­‰ï¼‰æ”¯æŒå…¶ä»¥æ¥è¿‘åŸç”Ÿé€Ÿåº¦è¿è¡Œï¼Œå¹¶ä¸JavaScriptæ— ç¼äº¤äº’ã€‚å…¶ç´§å‡‘çš„äºŒè¿›åˆ¶æ ¼å¼å’Œé«˜æ•ˆç¼–è¯‘æ˜¯æ€§èƒ½ä¼˜ç‚¹çš„å…³é”®ã€‚â€
äº”ã€æ‰©å±•æ€è€ƒ
åº”ç”¨åœºæ™¯ï¼šWasmä¸ä»…é™äºæµè§ˆå™¨ï¼Œè¿˜ç”¨äºè¾¹ç¼˜è®¡ç®—ã€åŒºå—é“¾ï¼ˆå¦‚Solanaï¼‰ã€æœåŠ¡å™¨ç«¯ï¼ˆWasmtimeï¼‰ã€‚
å±€é™æ€§ï¼šWasmä¸æ”¯æŒåŠ¨æ€ç±»å‹æˆ–åƒåœ¾å›æ”¶ï¼Œéœ€æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼ŒRustçš„å†…å­˜å®‰å…¨ç‰¹æ€§åœ¨æ­¤æœ‰ä¼˜åŠ¿ã€‚
æœªæ¥å‘å±•ï¼šWasmæ­£æ‰©å±•è‡³WebGPUã€WASIï¼ˆWebAssembly System Interfaceï¼‰ï¼Œå¢å¼ºå…¶é€šç”¨æ€§ã€‚
å¦‚æœä½ å¯¹Wasmçš„ç¼–è¯‘æµç¨‹ã€å·¥å…·é“¾ï¼ˆå¦‚wasm-packï¼‰æˆ–å…·ä½“ä»£ç ç¤ºä¾‹æ„Ÿå…´è¶£ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ï¼Œæˆ‘å¯ä»¥è¿›ä¸€æ­¥æ·±å…¥ï¼

## ä¸ªäººè¡¥å……
Yew éå¸¸é€‚åˆå¤§å‹å•é¡µåº”ç”¨ï¼Œæˆ–è€…ä½ æƒ³å¤„ç†å¤§é‡æ•°æ®ã€‚æˆ‘ä¸ä¼šç”¨å®ƒæ¥æ„å»ºå•†åº—å‰ç«¯ï¼Œä½†æˆ‘ä¼šç”¨å®ƒæ¥æ„å»ºå¤§å‹æ•°æ®å¯è§†åŒ–å‰ç«¯ã€‚

æˆ‘ä¹‹å‰è¿˜æ‹…å¿ƒ wasm å®¹å™¨çš„åˆå§‹åŠ è½½æ—¶é—´ï¼Œä½†ä»æˆ‘çš„æµ‹è¯•æ¥çœ‹ï¼Œå®ƒåªæ¯”å®ƒçš„ js å¯¹åº”ç‰©æ…¢ä¸€ç‚¹ç‚¹
æˆ‘ä»¬å¼€å‘äº†ä¸€ä¸ªåƒ Uber ä¸€æ ·çš„å…¨åŠŸèƒ½æ‹¼è½¦åº”ç”¨ã€‚å‰ç«¯ç”¨çš„æ˜¯ Yewï¼Œé…åˆä¸€äº› wasm-bindgen æ¥è°ƒç”¨å¤–éƒ¨åº“ã€‚ https://youtu.be/85mnCWkzdxQ

æˆ‘ä»¬çš„æ•´ä¸ªæŠ€æœ¯æ ˆéƒ½æ˜¯ Rustï¼Œæ‰€ä»¥æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½æ¥å— Yewï¼ˆå’Œ Rustï¼‰çš„ä¸€äº›æ„ŸçŸ¥åˆ°çš„å¼€é”€ã€‚ä»å¤§å‹ç”Ÿäº§å¼€å‘çš„è§’åº¦æ¥çœ‹ï¼Œä¸æˆ‘ä»¬ä¹‹å‰åšè¿‡çš„ä»»ä½•å…¶ä»–ç±»ä¼¼è§„æ¨¡çš„é¡¹ç›®ç›¸æ¯”ï¼Œæ€§èƒ½ã€ç¨³å®šæ€§å’Œç”Ÿäº§åŠ›æå‡éƒ½æ˜¯æ•°é‡çº§çš„ã€‚

æˆ‘ä»¬é€šè¿‡ä¿æŒå®çš„å°å·§å’Œå°†é¡¹ç›®åˆ†è§£æˆå‡ ä¸ªå° crate æ¥å®ç°è‰¯å¥½çš„å¼€å‘è¿­ä»£ã€‚

æ„Ÿè°¢ä½ çš„æé—®ï¼åŸºäºä½ æä¾›çš„æ–¹æ¡ˆï¼ˆhttps://github.com/jetli/rust-yew-axum-tauri-desktopï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªä½¿ç”¨Rustç”Ÿæ€ï¼ˆYewå‰ç«¯æ¡†æ¶ã€Axumåç«¯æ¡†æ¶ã€Tauriæ¡Œé¢åº”ç”¨ï¼‰çš„å®Œæ•´é¡¹ç›®ã€‚æˆ‘å‡è®¾ä½ å¸Œæœ›ä¿ç•™Axumå’ŒTauriçš„æ ¸å¿ƒæ¶æ„ï¼ŒåŒæ—¶å°†Yewæ›¿æ¢ä¸ºTypeScript (TS) æˆ– JavaScript (JS) ä½œä¸ºå‰ç«¯æ¡†æ¶ï¼Œå¹¶ç¡®ä¿æœªæ¥å¯ä»¥çµæ´»åˆ‡æ¢å›Yewã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†åˆ†æã€è®¾è®¡æ€è·¯å’Œæ ¸å¿ƒä»£ç demoã€‚
ä¸€ã€åˆ†æä¸è®¾è®¡æ€è·¯
1. å½“å‰æ–¹æ¡ˆæ¦‚è¿°
æ¶æ„ï¼š
åç«¯ï¼šAxumï¼ˆRust Webæ¡†æ¶ï¼‰æä¾›APIå’ŒæœåŠ¡å™¨é€»è¾‘ã€‚
å‰ç«¯ï¼šYewï¼ˆRustçš„Reacté£æ ¼å‰ç«¯æ¡†æ¶ï¼‰æ„å»ºUIï¼Œç¼–è¯‘ä¸ºWasmè¿è¡Œåœ¨Tauriä¸­ã€‚
æ¡Œé¢åº”ç”¨ï¼šTauriï¼ˆRustæ„å»ºçš„è½»é‡çº§æ¡Œé¢æ¡†æ¶ï¼‰é›†æˆå‰ç«¯å’Œåç«¯ï¼Œç”Ÿæˆè·¨å¹³å°æ¡Œé¢åº”ç”¨ã€‚
ç‰¹ç‚¹ï¼š
å…¨Rustæ ˆï¼Œæ€§èƒ½ä¼˜å¼‚ï¼ŒWasmè¿è¡Œæ¥è¿‘åŸç”Ÿé€Ÿåº¦ã€‚
Taurié€šè¿‡Rustä¸å‰ç«¯æ¡¥æ¥ï¼Œç®€åŒ–æ¡Œé¢å¼€å‘ã€‚
2. æ›¿æ¢Yewçš„ç›®æ ‡
æ›¿æ¢ä¸ºTS/JSï¼š
ä½¿ç”¨TS/JSï¼ˆå¦‚Reactã€Vueæˆ–Vanilla JSï¼‰æ›¿ä»£Yewï¼Œé€‚åº”JavaScriptç”Ÿæ€çš„å¼€å‘ä¹ æƒ¯ã€‚
ä¿ç•™Tauriå’ŒAxumï¼ŒTS/JSå‰ç«¯é€šè¿‡Tauriçš„Webviewè¿è¡Œã€‚
æœªæ¥å…¼å®¹Yewï¼š
è®¾è®¡æ¨¡å—åŒ–ç»“æ„ï¼Œå…è®¸åŠ¨æ€åˆ‡æ¢å‰ç«¯æ¡†æ¶ï¼ˆTS/JSæˆ–Yewï¼‰ï¼Œé€šè¿‡é…ç½®æ–‡ä»¶æˆ–æ„å»ºè„šæœ¬æ§åˆ¶ã€‚
å‡è®¾ï¼š
ä½ ç†Ÿæ‚‰TS/JSç”Ÿæ€ï¼Œåå¥½Reactä½œä¸ºæ›¿ä»£ï¼ˆå¯è°ƒæ•´ä¸ºVueæˆ–å…¶ä»–ï¼‰ã€‚
3. è®¾è®¡æ€è·¯
ç›®å½•ç»“æ„è°ƒæ•´ï¼š
åˆ†ç¦»å‰ç«¯ä»£ç ä¸ºfrontend-tsï¼ˆTS/JSï¼‰å’Œfrontend-yewï¼ˆYewï¼‰ï¼Œå…±ç”¨src-tauriã€‚
ä½¿ç”¨Tauriçš„tauri.conf.jsoné…ç½®åŠ¨æ€åŠ è½½å‰ç«¯ã€‚
æ„å»ºæµç¨‹ï¼š
TS/JSå‰ç«¯é€šè¿‡Viteæˆ–Webpackæ‰“åŒ…ä¸ºé™æ€æ–‡ä»¶ï¼ŒTauriåŠ è½½ã€‚
Yewå‰ç«¯ç¼–è¯‘ä¸ºWasmï¼ŒTauriåŠ è½½Wasmæ¨¡å—ã€‚
æ¡¥æ¥ï¼š
Tauriçš„Rust-JSæ¡¥æ¥æ”¯æŒTS/JSè°ƒç”¨åç«¯APIï¼ŒYewé€šè¿‡Wasmæ¡¥æ¥ã€‚
åˆ‡æ¢æœºåˆ¶ï¼š
é€šè¿‡ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ï¼ˆå¦‚.envï¼‰é€‰æ‹©å‰ç«¯æ¡†æ¶ã€‚
äºŒã€æ”¹è¿›æ–¹æ¡ˆ
1. ç›®å½•ç»“æ„
rust-yew-axum-tauri-desktop/
â”œâ”€â”€ src-tauri/              # Tauriæ ¸å¿ƒï¼Œæ¡¥æ¥åç«¯å’Œå‰ç«¯
â”‚   â”œâ”€â”€ src/                # Rustä»£ç 
â”‚   â”œâ”€â”€ tauri.conf.json     # Taurié…ç½®
â”œâ”€â”€ backend/                # Axumåç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ frontend-ts/            # TS/JSå‰ç«¯ï¼ˆé»˜è®¤ï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ vite.config.ts      # Viteæ„å»ºé…ç½®
â”‚   â”œâ”€â”€ package.json
â”œâ”€â”€ frontend-yew/           # Yewå‰ç«¯ï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡ï¼Œæ§åˆ¶å‰ç«¯é€‰æ‹©
â”œâ”€â”€ README.md
2. æ„å»ºä¸è¿è¡Œ
TS/JSå‰ç«¯ï¼š
ä½¿ç”¨Vite + Reactï¼Œnpm run buildç”Ÿæˆdistæ–‡ä»¶å¤¹ã€‚
TauriåŠ è½½frontend-ts/distã€‚
Yewå‰ç«¯ï¼š
cargo build --target wasm32-unknown-unknown --releaseï¼Œç”Ÿæˆfrontend-yew/pkgã€‚
TauriåŠ è½½Wasmæ¨¡å—ã€‚
åˆ‡æ¢ï¼š
.envä¸­è®¾ç½®FRONTEND=tsæˆ–FRONTEND=yewï¼ŒTauriæ ¹æ®é…ç½®åŠ è½½å¯¹åº”ç›®å½•ã€‚
3. æ¡¥æ¥ä¸API
TS/JSé€šè¿‡window.__TAURI__è°ƒç”¨Rust APIã€‚
Yewé€šè¿‡wasm_bindgenä¸Tauriæ¡¥æ¥ã€‚
ä¸‰ã€æ ¸å¿ƒä»£ç demo
1. åç«¯ï¼ˆAxumï¼‰ - backend/src/main.rs
rust
use axum::{routing::get, Router};
use std::net::SocketAddr;

#[tokio::main]
async fn main() {
    let app = Router::new().route("/api/hello", get(|| async { "Hello from Axum!" }));

    let addr = SocketAddr::from(([127, 0, 0, 1], 8080));
    println!("Server running at http://{}", addr);
    axum::Server::bind(&addr)
        .serve(app.into_make_service())
        .await
        .unwrap();
}
2. Taurié…ç½® - src-tauri/tauri.conf.json
json
{
  "build": {
    "beforeDevCommand": "npm run dev",
    "beforeBuildCommand": "npm run build",
    "distDir": "../frontend-ts/dist"
  },
  "package": {
    "productName": "TauriApp"
  }
}
3. TS/JSå‰ç«¯ - frontend-ts/src/main.tsx (React)
tsx
import React, { useEffect, useState } from 'react';
import { invoke } from '@tauri-apps/api/tauri';

function App() {
  const [message, setMessage] = useState('');

  useEffect(() => {
    invoke('hello').then((res) => setMessage(res as string));
  }, []);

  return (
    <div>
      <h1>Tauri with TS/JS</h1>
      <p>Message from backend: {message}</p>
    </div>
  );
}

export default App;
æ„å»ºï¼šnpm install + npm run buildï¼ˆViteé…ç½®ï¼‰ã€‚
ä¾èµ–ï¼špackage.jsonæ·»åŠ "tauri-plugin-upload": "^1.0.0"ç­‰ã€‚
4. Yewå‰ç«¯ - frontend-yew/src/main.rs (å¯é€‰)
rust
use yew::prelude::*;

#[function_component(App)]
fn app() -> Html {
    let message = use_state(|| String::new());
    {
        let message = message.clone();
        wasm_bindgen_futures::spawn_local(async move {
            let msg = tauri_sys::invoke("hello", &serde_json::json!({})).await.unwrap();
            message.set(msg.as_str().unwrap().to_string());
        });
    }

    html! {
        <div>
            <h1>{ "Tauri with Yew" }</h1>
            <p>{ &*message }</p>
        </div>
    }
}

fn main() {
    yew::start_app::<App>();
}
æ„å»ºï¼šcargo build --target wasm32-unknown-unknown --releaseã€‚
5. Tauriæ¡¥æ¥ - src-tauri/src/main.rs
rust
use tauri::{AppHandle, Manager, Wry};

#[tauri::command]
async fn hello(app: AppHandle<Wry>) -> Result<String, String> {
    let response = reqwest::get("http://localhost:8080/api/hello").await?.text().await?;
    Ok(response)
}

fn main() {
    tauri::Builder::default()
        .invoke_handler(tauri::generate_handler![hello])
        .run(tauri::generate_context!())
        .expect("Error while running tauri application");
}
6. ç¯å¢ƒå˜é‡ - .env
FRONTEND=ts  # æˆ– yew
7. æ„å»ºè„šæœ¬ - build.sh
bash
#!/bin/bash

if [ "$FRONTEND" = "ts" ]; then
  cd frontend-ts && npm run build
  sed -i 's|../frontend-yew/pkg|../frontend-ts/dist|' src-tauri/tauri.conf.json
elif [ "$FRONTEND" = "yew" ]; then
  cd frontend-yew && cargo build --target wasm32-unknown-unknown --release
  sed -i 's|../frontend-ts/dist|../frontend-yew/pkg|' src-tauri/tauri.conf.json
fi

cd src-tauri && cargo tauri build
è¿è¡Œï¼šsource .env && chmod +x build.sh && ./build.shã€‚
å››ã€æ€»ç»“ä¸ä¼˜åŒ–
1. æ–¹æ¡ˆç‰¹ç‚¹
çµæ´»æ€§ï¼šé€šè¿‡.envå’Œtauri.conf.jsonåŠ¨æ€åˆ‡æ¢TS/JSæˆ–Yewã€‚
å…¼å®¹æ€§ï¼šä¿ç•™Axumå’ŒTauriæ ¸å¿ƒï¼Œé€‚é…JavaScriptç”Ÿæ€ã€‚
æ€§èƒ½ï¼šTS/JSé€šè¿‡Viteä¼˜åŒ–ï¼ŒYewé€šè¿‡Wasmè¿è¡Œã€‚
2. ä¼˜åŒ–å»ºè®®
æ€§èƒ½ï¼šTS/JSä½¿ç”¨React Memoï¼ŒYewä¼˜åŒ–Wasmå¤§å°ã€‚
å®‰å…¨æ€§ï¼šæ·»åŠ APIè®¤è¯ï¼ˆå¦‚JWTï¼‰ã€‚
æµ‹è¯•ï¼šæ¨¡æ‹Ÿå‰ç«¯åˆ‡æ¢ï¼ŒéªŒè¯æ¡¥æ¥ç¨³å®šæ€§ã€‚
3. æœªæ¥æ–¹å‘
é›†æˆWebAssembly System Interface (WASI)æ”¯æŒæ›´å¤šéæµè§ˆå™¨åœºæ™¯ã€‚
å¼€å‘UIç»„ä»¶åº“ï¼Œæ”¯æŒTS/JSå’ŒYewåŒæ¨¡å¼ã€‚
å¦‚æœä½ éœ€è¦å…·ä½“TS/JSç»„ä»¶ä»£ç æˆ–Yewä¼˜åŒ–ç¤ºä¾‹ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘å¯ä»¥è¿›ä¸€æ­¥ååŠ©ï¼

## å¹¶è¡Œæ–¹æ¡ˆï¼ˆTS+Yewï¼‰
æ˜¯çš„ï¼Œå®Œå…¨å¯ä»¥è®¾è®¡ä¸€ä¸ªæ–¹æ¡ˆï¼Œå…è®¸åŒæ—¶ä½¿ç”¨TS/JSå’ŒYewå‰ç«¯æ¡†æ¶ï¼Œæ»¡è¶³åŒæ¨¡è¿è¡Œçš„éœ€æ±‚ã€‚åŸºäºå½“å‰æ—¶é—´ï¼ˆ2025å¹´6æœˆ10æ—¥15:51 +07ï¼‰ä»¥åŠä¹‹å‰çš„è®¨è®ºï¼ˆhttps://github.com/jetli/rust-yew-axum-tauri-desktopï¼‰ï¼Œæˆ‘å°†åˆ†æå¯è¡Œæ€§ï¼Œè®¾è®¡å®ç°æ–¹æ³•ï¼Œå¹¶æä¾›æ ¸å¿ƒä»£ç demoã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£ç­”ã€‚

ç°åœ¨æˆ‘æ˜ç™½äº†ä½ çš„æ„å›¾ï¼šä½ å¸Œæœ›æ ¹æ®é¡µé¢ç‰¹æ€§é€‰æ‹©ä¸åŒçš„æŠ€æœ¯æ–¹æ¡ˆâ€”â€”å¯¹äºCPUå¯†é›†å‹æˆ–å¤„ç†å¤§é‡æ•°æ®é›†çš„é¡µé¢ä½¿ç”¨Yewï¼ˆå› å…¶Wasmæ€§èƒ½ä¼˜åŠ¿ï¼‰ï¼Œè€Œå¯¹äºå¸¸ç”¨é¡µé¢ä½¿ç”¨TS/JSï¼ˆå› å…¶å¼€å‘æ•ˆç‡å’Œç”Ÿæ€æˆç†Ÿï¼‰ã€‚ä½ æåˆ°çš„â€œä¸æ˜¯æƒ³ä¸€ä¸ªé¡µé¢ç”¨ä¸¤ç§æŠ€æœ¯æ–¹æ¡ˆâ€è¡¨æ˜ä½ å¸Œæœ›é¿å…æ··åˆæŠ€æœ¯ï¼Œè€Œæ˜¯æŒ‰é¡µé¢ç±»å‹åˆ†é…æŠ€æœ¯ï¼Œå¹¶è¯„ä¼°æ˜¯å¦ä¸æˆ‘ä¹‹å‰æä¾›çš„æ–¹æ¡ˆå†²çªã€‚åŸºäºå½“å‰æ—¶é—´ï¼ˆ2025å¹´6æœˆ10æ—¥15:56 +07ï¼‰ä»¥åŠä¹‹å‰çš„è®¨è®ºï¼ˆhttps://github.com/jetli/rust-yew-axum-tauri-desktopï¼‰ï¼Œæˆ‘å°†é‡æ–°åˆ†æå¹¶è°ƒæ•´æ–¹æ¡ˆï¼Œç¡®ä¿å…¼å®¹ä½ çš„éœ€æ±‚ã€‚

æ„Ÿè°¢ä½ çš„æ¾„æ¸…ï¼ç°åœ¨æˆ‘æ˜ç™½äº†ä½ çš„æ„å›¾ï¼šä½ å¸Œæœ›æ ¹æ®é¡µé¢ç‰¹æ€§é€‰æ‹©ä¸åŒçš„æŠ€æœ¯æ–¹æ¡ˆâ€”â€”å¯¹äºCPUå¯†é›†å‹æˆ–å¤„ç†å¤§é‡æ•°æ®é›†çš„é¡µé¢ä½¿ç”¨Yewï¼ˆå› å…¶Wasmæ€§èƒ½ä¼˜åŠ¿ï¼‰ï¼Œè€Œå¯¹äºå¸¸ç”¨é¡µé¢ä½¿ç”¨TS/JSï¼ˆå› å…¶å¼€å‘æ•ˆç‡å’Œç”Ÿæ€æˆç†Ÿï¼‰ã€‚ä½ æåˆ°çš„â€œä¸æ˜¯æƒ³ä¸€ä¸ªé¡µé¢ç”¨ä¸¤ç§æŠ€æœ¯æ–¹æ¡ˆâ€è¡¨æ˜ä½ å¸Œæœ›é¿å…æ··åˆæŠ€æœ¯ï¼Œè€Œæ˜¯æŒ‰é¡µé¢ç±»å‹åˆ†é…æŠ€æœ¯ï¼Œå¹¶è¯„ä¼°æ˜¯å¦ä¸æˆ‘ä¹‹å‰æä¾›çš„æ–¹æ¡ˆå†²çªã€‚åŸºäºå½“å‰æ—¶é—´ï¼ˆ2025å¹´6æœˆ10æ—¥15:56 +07ï¼‰ä»¥åŠä¹‹å‰çš„è®¨è®ºï¼ˆhttps://github.com/jetli/rust-yew-axum-tauri-desktopï¼‰ï¼Œæˆ‘å°†é‡æ–°åˆ†æå¹¶è°ƒæ•´æ–¹æ¡ˆï¼Œç¡®ä¿å…¼å®¹ä½ çš„éœ€æ±‚ã€‚
ä¸€ã€éœ€æ±‚æ¾„æ¸…ä¸å†²çªè¯„ä¼°
1. éœ€æ±‚è§£è¯»
é¡µé¢åˆ†ç±»ï¼š
CPUå¯†é›†/å¤§æ•°æ®é¡µé¢ï¼šä¾‹å¦‚æ•°æ®å¤„ç†ã€å›¾å½¢æ¸²æŸ“ã€å¤æ‚è®¡ç®—ï¼Œé€‚åˆYewï¼ˆWasmç¼–è¯‘è¿è¡Œæ¥è¿‘åŸç”Ÿé€Ÿåº¦ï¼‰ã€‚
å¸¸ç”¨é¡µé¢ï¼šä¾‹å¦‚è¡¨å•è¾“å…¥ã€å¯¼èˆªã€ç®€å•å±•ç¤ºï¼Œé€‚åˆTS/JSï¼ˆReact/Vueç­‰ï¼Œå¼€å‘å¿«ï¼Œç”Ÿæ€ä¸°å¯Œï¼‰ã€‚
ç›®æ ‡ï¼š
æŒ‰é¡µé¢ç±»å‹åˆ†é…æŠ€æœ¯ï¼Œé¿å…å•ä¸€é¡µé¢æ··åˆTS/JSå’ŒYewã€‚
ä¿ç•™Axumåç«¯å’ŒTauriæ¡Œé¢æ¡†æ¶ï¼ŒåŠ¨æ€é€‰æ‹©å‰ç«¯æŠ€æœ¯ã€‚
å†²çªè¯„ä¼°ï¼š
æˆ‘ä¹‹å‰æä¾›çš„æ–¹æ¡ˆï¼ˆFRONTEND=allæ”¯æŒTS/JSå’ŒYewåˆ‡æ¢ï¼‰å‡è®¾åŒä¸€åº”ç”¨å¯åŠ¨æ€åŠ è½½ä¸¤ç§æŠ€æœ¯ï¼Œä½†æœªè€ƒè™‘æŒ‰é¡µé¢ç±»å‹é™æ€åˆ†é…ã€‚
å†²çªç‚¹ï¼šåŠ¨æ€åˆ‡æ¢å¯èƒ½å¯¼è‡´èµ„æºåŠ è½½å†²çªï¼ˆå¦‚CSS/JS/Wasmï¼‰ï¼Œä¸”æœªä¼˜åŒ–æŒ‰éœ€åŠ è½½ç‰¹å®šé¡µé¢ç±»å‹ã€‚
2. å†²çªåˆ†æ
å†²çªï¼š
ä¹‹å‰æ–¹æ¡ˆçš„FRONTEND=allæ¨¡å¼è¯•å›¾åœ¨åŒä¸€Webviewä¸­åŠ è½½TS/JSå’ŒYewï¼Œå¢åŠ äº†å¤æ‚æ€§ï¼Œä¸”ä¸é€‚åˆæŒ‰é¡µé¢ç±»å‹é™æ€åˆ†é…ã€‚
Tauriçš„å•ä¸€distDiré…ç½®æ— æ³•åŒæ—¶ä¼˜åŒ–Yewçš„Wasmæ€§èƒ½å’ŒTS/JSçš„å¼€å‘æ•ˆç‡ã€‚
è§£å†³æ–¹å‘ï¼š
æŒ‰é¡µé¢ç±»å‹åˆ†ç¦»æ„å»ºå’ŒåŠ è½½ï¼Œæ”¾å¼ƒå•ä¸€WebviewåŠ¨æ€åˆ‡æ¢ã€‚
ä½¿ç”¨Tauriçš„å¤šçª—å£æˆ–è·¯ç”±æœºåˆ¶ï¼ŒæŒ‰éœ€åŠ è½½Yewæˆ–TS/JSé¡µé¢ã€‚
3. è°ƒæ•´æ€è·¯
æ–°æ–¹æ¡ˆï¼š
æŒ‰é¡µé¢ç±»å‹å®šä¹‰ä¸¤ä¸ªå­åº”ç”¨ï¼šapp-tsï¼ˆTS/JSå¸¸ç”¨é¡µé¢ï¼‰å’Œapp-yewï¼ˆCPUå¯†é›†/å¤§æ•°æ®é¡µé¢ï¼‰ã€‚
Tauriä½œä¸ºå£³ï¼ŒåŠ¨æ€è·¯ç”±åˆ°å¯¹åº”å­åº”ç”¨ã€‚
é…ç½®ä¸­é€šè¿‡ç¯å¢ƒå˜é‡ï¼ˆå¦‚PAGE_TYPEï¼‰æˆ–URLå‚æ•°é€‰æ‹©æŠ€æœ¯ã€‚
å…¼å®¹æ€§ï¼š
ä¸å†²çªï¼Œå¯å®Œå…¨æ›¿ä»£ä¹‹å‰æ–¹æ¡ˆï¼Œæ»¡è¶³æŒ‰éœ€åˆ†é…æŠ€æœ¯éœ€æ±‚ã€‚
äºŒã€æ”¹è¿›æ–¹æ¡ˆ
1. ç›®å½•ç»“æ„
rust-yew-axum-tauri-desktop/
â”œâ”€â”€ src-tauri/
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ tauri.conf.json
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ app-ts/                 # TS/JSå¸¸ç”¨é¡µé¢
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ package.json
â”œâ”€â”€ app-yew/                # Yew CPUå¯†é›†/å¤§æ•°æ®é¡µé¢
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡æ§åˆ¶é¡µé¢ç±»å‹
â”œâ”€â”€ build.sh                # æ„å»ºè„šæœ¬
2. ç¯å¢ƒå˜é‡ä¸é…ç½®
.env
PAGE_TYPE=ts  # æˆ– yew, auto (æ ¹æ®URLè·¯ç”±)
tauri.conf.jsonï¼ˆåŠ¨æ€è·¯ç”±ï¼‰
json
{
  "build": {
    "beforeDevCommand": "npm run dev",
    "beforeBuildCommand": "npm run build",
    "distDir": "../dist"
  },
  "window": {
    "title": "TauriApp",
    "url": "index.html?type={PAGE_TYPE}"
  }
}
3. æ„å»ºä¸è·¯ç”±
æ„å»ºè„šæœ¬ build.sh
bash
#!/bin/bash

mkdir -p dist

if [ "$PAGE_TYPE" = "ts" ] || [ "$PAGE_TYPE" = "auto" ]; then
  cd app-ts && npm run build
  cp -r dist/* ../dist/
elif [ "$PAGE_TYPE" = "yew" ]; then
  cd app-yew && cargo build --target wasm32-unknown-unknown --release
  cp -r pkg/* ../dist/
fi

cd src-tauri && cargo tauri build
è·¯ç”±é€»è¾‘ - src-tauri/src/main.rs
rust
use tauri::{AppHandle, Manager, Wry};
use std::env;

#[tauri::command]
async fn hello(app: AppHandle<Wry>) -> Result<String, String> {
    let response = reqwest::get("http://localhost:8080/api/hello").await?.text().await?;
    Ok(response)
}

fn main() {
    tauri::Builder::default()
        .setup(|app| {
            let window = app.get_window("main").unwrap();
            let query = window.url().query_pairs().find(|(k, _)| k == "type").map(|(_, v)| v);
            if let Some(q) = query {
                if q == "yew" {
                    window.load_url("yew_app.html".parse().unwrap()).unwrap();
                } else {
                    window.load_url("index.html".parse().unwrap()).unwrap();
                }
            }
            Ok(())
        })
        .invoke_handler(tauri::generate_handler![hello])
        .run(tauri::generate_context!())
        .expect("Error while running tauri application");
}
4. TS/JSå‰ç«¯ - app-ts/src/main.tsx (React)
tsx
import React, { useEffect, useState } from 'react';
import { invoke } from '@tauri-apps/api/tauri';

function App() {
  const [message, setMessage] = useState('');

  useEffect(() => {
    invoke('hello').then((res) => setMessage(res as string));
  }, []);

  return (
    <div>
      <h1>TS/JS Common Page</h1>
      <p>Message from backend: {message}</p>
    </div>
  );
}

export default App;
æ„å»ºï¼šnpm run build (Vite)ã€‚
5. Yewå‰ç«¯ - app-yew/src/main.rs
rust
use yew::prelude::*;

#[function_component(App)]
fn app() -> Html {
    let message = use_state(|| String::new());
    {
        let message = message.clone();
        wasm_bindgen_futures::spawn_local(async move {
            let msg = tauri_sys::invoke("hello", &serde_json::json!({})).await.unwrap();
            message.set(msg.as_str().unwrap().to_string());
        });
    }

    html! {
        <div>
            <h1>{ "Yew CPU-Intensive Page" }</h1>
            <p>{ &*message }</p>
        </div>
    }
}

fn main() {
    yew::start_app::<App>();
}
æ„å»ºï¼šcargo build --target wasm32-unknown-unknown --releaseã€‚
6. åç«¯ï¼ˆAxumï¼‰ - backend/src/main.rs
rust
use axum::{routing::get, Router};
use std::net::SocketAddr;

#[tokio::main]
async fn main() {
    let app = Router::new().route("/api/hello", get(|| async { "Hello from Axum!" }));

    let addr = SocketAddr::from(([127, 0, 0, 1], 8080));
    println!("Server running at http://{}", addr);
    axum::Server::bind(&addr)
        .serve(app.into_make_service())
        .await
        .unwrap();
}
ä¸‰ã€æ€»ç»“ä¸ä¼˜åŒ–
1. æ–¹æ¡ˆç‰¹ç‚¹
æŒ‰éœ€åˆ†é…ï¼šPAGE_TYPE=tsåŠ è½½TS/JSå¸¸ç”¨é¡µé¢ï¼ŒPAGE_TYPE=yewåŠ è½½Yewå¯†é›†é¡µé¢ï¼ŒPAGE_TYPE=autoæŒ‰URLè·¯ç”±ã€‚
æ— å†²çªï¼šé¿å…å•ä¸€é¡µé¢æ··åˆæŠ€æœ¯ï¼Œä¼˜åŒ–èµ„æºåŠ è½½ã€‚
çµæ´»æ€§ï¼šä¿ç•™Axumå’ŒTauriæ ¸å¿ƒï¼Œæ”¯æŒåŠ¨æ€è·¯ç”±ã€‚
2. ä¼˜åŒ–å»ºè®®
æ€§èƒ½ï¼š
TS/JSä½¿ç”¨React Lazy Loadingã€‚
Yewä¼˜åŒ–Wasmå¤§å°ï¼ˆwasm-optï¼‰ã€‚
ç”¨æˆ·ä½“éªŒï¼š
æ·»åŠ è·¯ç”±åŠ¨ç”»ï¼Œæ”¹å–„é¡µé¢åˆ‡æ¢ã€‚
æ‰©å±•æ€§ï¼š
æ”¯æŒæ›´å¤šé¡µé¢ç±»å‹ï¼ˆå¦‚Vueï¼‰ï¼Œæ‰©å±•PAGE_TYPEé€‰é¡¹ã€‚
3. æœªæ¥æ–¹å‘
é›†æˆWebGPUæ”¯æŒYewæ¸²æŸ“å¤§æ•°æ®ã€‚
å¼€å‘è·¯ç”±ç®¡ç†æ¨¡å—ï¼ŒåŠ¨æ€åŠ è½½é¡µé¢ã€‚
ä½ çš„éœ€æ±‚ä¸ä¹‹å‰æ–¹æ¡ˆæ— å†²çªï¼Œè°ƒæ•´åå®Œå…¨æ»¡è¶³æŒ‰é¡µé¢ç±»å‹åˆ†é…æŠ€æœ¯çš„è¦æ±‚ã€‚è‹¥éœ€å…·ä½“è·¯ç”±ä»£ç æˆ–æ€§èƒ½æµ‹è¯•è®¡åˆ’ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼